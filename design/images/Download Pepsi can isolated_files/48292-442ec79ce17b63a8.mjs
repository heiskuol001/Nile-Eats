(self.modernJsonp=self.modernJsonp||[]).push([["48292"],{592816:function(e,i,l){l.r(i),l.d(i,{default:()=>n});let t={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[o,d,c,p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},p],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};t.hash="04834691a929e56b42c6699e90a97155";let n=t;var a,s,r,o,d,c,p,_=t.default||t;if("query"===_.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(_);else{let e=[_.params.name,_.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=_}},817694:function(e,i,l){l.r(i),l.d(i,{default:()=>g});var t=l(667294),n=l(20256),a=l(530355),s=l(667835),r=l(678213),o=l(19585),d=l(816358),c=l(15667),p=l(32937),_=l(941404),u=l(647709),h=l(104659),m=l(785893);function g({accessibilityModalLabel:e,align:i="center",allowClickAndDrag:l,allowScroll:g=!1,cancelButtonBackgroundColor:f,customizedHeading:x,children:y,closeOnOutsideClick:w=!0,footer:b,heading:v,isOpen:j,mobileAccessibilityCloseIconLabel:P,mobileHeadingSize:k,mobileHideCloseIcon:z,mobileIsFooter:C,mobileIsFullscreen:A,mobileIsFullpage:I,mobileIsSlideUp:S,onDismiss:T,shouldMoveCancelButtonRight:R=!1,subHeading:U,type:L,zIndex:Z,mobileCancelButtonPaddingTop:E,mobileCancelButtonPaddingRight:O,mobileTopOffset:B}){let W=(0,o.Z)(),{isRTL:F}=(0,c.B)(),M=(0,t.useRef)(null),[N,Q]=(0,t.useState)(!1),{setAppFocusState:H}=(0,h.G)(),G=(0,u.ZP)(),K=(0,s.vs)();(0,t.useEffect)(()=>(M.current=(0,a.Z)(()=>{M.current&&Q(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&M.current&&(window.cancelAnimationFrame(M.current),M.current=null)}),[]),(0,t.useEffect)(()=>(j?(d.Z.pause(),H(!1),(0,_.My)(`mweb_unauth.mobile_modal.${L||"unknown_type"}.did_mount.is_open.true`)):(d.Z.resume(),H(!0)),()=>{j&&(d.Z.resume(),H(!0),(0,_.My)(`mweb_unauth.mobile_modal.${L||"unknown_type"}.did_mount.is_open.false`))}),[H,j]),(0,t.useEffect)(()=>{let e=j&&!g;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[j,g]);let D=()=>I?"fullpage":A?"fullscreen":"euPrompt"===L?"euPrompt":"tablet"===G?"tablet":C?"footer":"signup"===L?"signup":"repinPage"===L?"repinPage":void 0;if(!j)return null;let J=P&&!z;return(0,m.jsx)(p.Z,{allowClickAndDrag:l,children:(0,m.jsx)(n.mh,{children:(0,m.jsxs)(n.xu,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:Z||r.ZM,children:[(0,m.jsx)(n.iP,{accessibilityLabel:W._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${L||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),w&&T()},tapStyle:"none",children:(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new n.Ry(1)})}),(0,m.jsxs)(n.xu,{color:"default",dangerouslySetInlineStyle:S?(0,r.Vf)({isFullscreen:A,isTablet:"tablet"===G,isShowing:N,isRelatedInterestsModal:"related_interests_modal"===L,isDarkMode:K}):{...(0,r.JN)({isDarkMode:K,variant:D()}),__style:{...(0,r.JN)({isDarkMode:K,variant:D()}).__style,transform:((0,r.JN)({isDarkMode:K,variant:D()}).__style?.transform||"")+(()=>{if(!B||S||!(()=>{if("undefined"==typeof window)return!1;let e=Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth),i=Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight);return e<=380||i<=760})())return"";let e=Math.min(1,(Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return e=Math.max(.8,e),` scale(${e})`})()}},"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f||"rgba(0, 0, 0, 0)"}},children:(0,m.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:R?"end":"start",width:"100%",children:[J&&!R&&(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:E??void 0,paddingRight:O??void 0}},"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,m.jsx)(n.hU,{accessibilityLabel:P,icon:"cancel",iconColor:K?"gray":"darkGray",onClick:T,padding:4,size:"lg"})}),v?(0,m.jsx)(n.kC.Item,{flex:"grow",children:(0,m.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,m.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:P&&!z?{marginRight:F?-10:50,marginLeft:F?50:-10,paddingTop:16}:{paddingTop:16}},"data-test-id":"mobile-modal-heading",children:[A?v:(0,m.jsx)(n.xv,{align:i,size:k||"400",weight:"bold",children:v}),U?(0,m.jsx)(n.xv,{align:i,children:U}):null]})})}):null,x&&(0,m.jsx)(n.kC.Item,{flex:"grow",children:(0,m.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:x})}),J&&R&&(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:2,paddingTop:E??2,paddingBottom:2,paddingRight:O??void 0}},"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(n.hU,{accessibilityLabel:P,icon:"cancel",iconColor:K?"gray":"darkGray",onClick:T,padding:4,size:"lg"})})]})}),(0,m.jsxs)(n.xu,{overflow:"auto",children:[y,b]})]})]})})})}},815861:function(e,i,l){l.d(i,{Z:()=>y});var t=l(980787),n=l(274320),a=l(15667),s=l(936371),r=l(326687),o=l(172045),d=l(551383),c=l(378888),p=l(603316);let _="http://play.google.com/store/apps/details?id=com.pinterest",u=["access_token","new_password","new_password_confirm","password","next"],h=(e,i)=>i?(0,c.ru)(e,{invite_code:i}):e,m=(e,i,l)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){let i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?h(e,l):"ios"===i||"ipad"===i?h(e.iOS,l):"android"===i?h(e.android,l):null};var g=l(785893);function f({children:e,invite_code:i}){let{locale:l,isAuthenticated:s,isBot:h,unauthId:g,userAgent:{platform:f,raw:x}}=(0,a.B)(),{logContextEvent:y}=(0,t.u)(),{checkExperiment:w}=(0,n.r)();return e(async(e,t,n)=>{y({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:t}}),(({isAuthenticated:e,checkExperiment:i,deeplinkUri:l,fallbackUrl:t,invite_code:n,logContextEvent:a,platform:s,redirectToLite:r,unauthId:h,userAgent:g,app_upsell_type:f,locale:x,isBot:y})=>{if(a?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),l){let w=(({deeplinkUri:e,invite_code:i,platform:l,fallbackUrl:t,unauthId:n,app_upsell_type:a})=>({deeplink_path:m(e,l,i),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",u),install_id:n,utm_source:140,utm_medium:2152,app_upsell_type:a,...t?{af_r:t}:null}))({isAuthenticated:e,deeplinkUri:l,fallbackUrl:t,invite_code:n,platform:s,unauthId:h,userAgent:g,app_upsell_type:f});if((0,p.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:s}}),n&&(0,p.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,p.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!h}}),r){(0,p.nP)("mweb.deeplink.lite_link",{sampleRate:1}),a?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}});let e=(({unauthId:e,app_upsell_type:i})=>({referrer:encodeURI((0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:i}))}))({unauthId:h,app_upsell_type:f});window.location.href=(0,c.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===s){let t=(({deeplinkUri:e,invite_code:i,platform:l,unauthId:t,app_upsell_type:n})=>{let a=JSON.stringify({deeplink_path:m(e,l,i),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",u),install_id:t});return{referrer:(0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:n})}})({deeplinkUri:l,invite_code:n,platform:s,unauthId:h,app_upsell_type:f});!y&&!e&&x?.toLowerCase().includes("en-us")&&(()=>{if("undefined"!=typeof window){let e=new URLSearchParams(window.location.search);return e.has("utm_source")&&e.get("utm_source").includes("google_search")}return!1})()&&i&&"enabled"===i("single_tap_unauth_2").group?window.location.href="https://delivers.dtignite.com/v2/delivers/clickAd.jsp?siteId=16686&campaignId=49161&tsti=true&updateApp=false&enablePostInstallAutoLaunch=true&dvURL="+encodeURIComponent("https://app.appsflyer.com/com.pinterest?pid=dtsingletap_int&"+(0,c.XP)({c:"single_tap_unauth",af_c_id:"98888",clickid:(0,o.Z)()})):(0,d.v)()?(0,d.Z)().then(e=>{if(e.length>0){let e=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof l?l:l.android):window.location.href,i=(0,c.ru)(e,w);a?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.open(i)||a?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}})}else a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,c.ru)(_,t)}).catch(()=>{(0,p.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,c.ru)(_,t))}else{if((0,p.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===s&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,c.ru)("https://pinterest.com/pinterest-predicts",w);return}a?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,c.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",w)}}})({isAuthenticated:s,checkExperiment:w,deeplinkUri:e,fallbackUrl:n,invite_code:i,logContextEvent:y,platform:f,redirectToLite:(0,r.Rp)({isBot:h,platform:f,userAgent:x}),unauthId:g,userAgent:x,app_upsell_type:t,locale:l,isBot:h})})}let x=e=>(0,g.jsx)(s.ty,{children:i=>(0,g.jsx)(f,{...e,invite_code:i})});x.displayName="DeepLinkNavigator";let y=x},366859:function(e,i,l){l.d(i,{Z:()=>a});var t=l(20256),n=l(785893);function a({children:e,onMouseEnter:i,onMouseLeave:l,onTouch:a,rounding:s,fullWidth:r=!1,pressState:o="none",accessibilityLabel:d,role:c,dataTestId:p}){let _=(Array.isArray(o)?o:[o]).includes("compress");return(0,n.jsx)(t.iP,{accessibilityLabel:d,dataTestId:p,fullWidth:r,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:l&&(({event:e})=>l(e)),onTap:a&&(({event:e})=>a(e)),role:c,rounding:s,tapStyle:_?"compress":"none",children:e})}},278566:function(e,i,l){l.d(i,{Z:()=>m});var t=l(667294),n=l(825332),a=l(980787),s=l(346955),r=l(15667),o=l(941404),d=l(572227),c=l(155328),p=l(634405),_=l(815861),u=l(603316),h=l(785893);function m({children:e,componentType:i,app_upsell_type:l,isShown:m=!0}){let g=(0,n.TH)(),{flushContextEvents:f,logContextEvent:x}=(0,a.u)(),{viewType:y,viewParameter:w}=(0,s.SU)(),b=(0,d.Z)(),{userAgent:{platform:v}}=(0,r.B)();(0,t.useEffect)(()=>{b({action:"view",item:"download-button",within:l})},[g,l,b]);let j=(0,t.useRef)(!1);(0,t.useEffect)(()=>{m&&y&&202!==y?(x({component:i||13106,element:10308,event_type:9976,view_type:y,view_parameter:w,aux_data:{app_upsell_type:l,app_upsell_is_dupe:j.current}}),j.current=!0):(0,u.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:i,view_type:y,view_parameter:w,app_upsell_type:l,app_upsell_is_dupe:j.current}})},[y,w,i,l,x,m]);let P=(0,p.Z)();return(0,t.useEffect)(()=>{P||(0,o.My)(`mweb.app_upsell.forbidden_upsell.${l}`)},[P,l]),(0,h.jsx)(_.Z,{children:t=>e({handleOpenApp:e=>{b({action:"click",item:"download-button",within:l}),(0,o.NC)("press_open_app",!0),x({component:i||13106,element:10308,event_type:102,view_type:y||202,view_parameter:w,aux_data:{app_upsell_type:l}}),x({component:i||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:w,aux_data:{app_upsell_type:l}}),f(),t&&(x({component:i||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:w,aux_data:{app_upsell_type:l}}),t(e?.deepLinkUri??(0,c.Z)(g,"android"===v),l))}})})}},41672:function(e,i,l){l.d(i,{Z:()=>A});var t=l(616550),n=l(20256),a=l(817694),s=l(19585),r=l(302148),o=l(506662),d=l(675973),c=l(15667),p=l(886981),_=l(941404),u=l(378888),h=l(647709),m=l(341742),g=l(278566),f=l(228544),x=l(657235),y=l(920120),w=l(472500),b=l(326687),v=l(169053),j=l(785893);let P=({description:e,handleDismiss:i,heading:l,i18n:t,appUpsellType:a,ctaText:s})=>(0,j.jsx)(g.Z,{app_upsell_type:a,componentType:14155,children:({handleOpenApp:a})=>(0,j.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,j.jsx)(n.xu,{paddingY:2,children:(0,j.jsx)(n.X6,{align:"center",size:"400",children:l})}),(0,j.jsx)(n.xu,{width:246,children:(0,j.jsx)(n.xv,{align:"center",size:"300",children:e})}),(0,j.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,j.jsx)(n.xu,{marginBottom:2,width:246,children:(0,j.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,x.Z)(),a()},size:"lg",text:s||t._('Open app', 'mweb.auth.referred_app_upsell.open_app', 'CTA text for referred app upsell')})}),(0,j.jsx)(n.zx,{color:"gray",fullWidth:!0,onClick:()=>{i()},size:"lg",text:t._('Continue in browser', 'mweb.auth.referred_app_upsell.continue', 'Continue text for referred app upsell')})]})]})}),k=({handleDismiss:e,i18n:i,iconSize:l,appUpsellType:t})=>(0,j.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new n.Ry(5),children:[(0,j.jsx)(n.xu,{"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(n.hU,{accessibilityLabel:i._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:e,size:"sm"})}),(0,j.jsxs)(n.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,j.jsx)(n.JO,{accessibilityLabel:i._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:l})}),(0,j.jsx)(P,{appUpsellType:t,description:i._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description1', 'description for referred app upsell'),handleDismiss:e,heading:i._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:i})]})]}),z=({backgroundImageUrl:e,handleDismiss:i,heroImage:l,i18n:t,multipleImages:a,appUpsellType:s})=>(0,j.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new n.Ry(5),children:[(0,j.jsx)(n.xu,{height:319,position:"absolute",top:!0,width:"100%",zIndex:new n.Ry(2),children:(0,j.jsx)(n.Ee,{alt:t._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,j.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)"}},direction:"column",display:"flex",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,zIndex:new n.Ry(3),children:[(0,j.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{background:"transparent"}},"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(n.hU,{accessibilityLabel:t._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:i,size:"sm"})}),(0,j.jsxs)(n.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(n.kC,{justifyContent:"center",children:l}),(0,j.jsx)(P,{appUpsellType:s,description:a?t._('Save these ideas, get similar recs, and more', 'mweb.auth.referred_app_upsell.description2', 'description for referred app upsell'):t._('Save this idea, get similar recs, and more', 'mweb.auth.referred_app_upsell.description5', 'description for referred app upsell'),handleDismiss:i,heading:t._('It\'s better in the Pinterest app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:t})]})]})]}),C=({pinUrl:e,i18n:i})=>(0,j.jsx)(n.xu,{height:235,marginBottom:6,overflow:"hidden",rounding:4,width:176,children:(0,j.jsx)(n.Ee,{alt:i._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})});function A({onDismiss:e,viewParameter:i,viewType:l}){let A=(0,s.Z)(),I=(0,h.Wb)(),{isBot:S,userAgent:{platform:T,raw:R}}=(0,c.B)(),U=(0,b.Rp)({isBot:S,platform:T,userAgent:R}),{trackAppUpsellDismiss:L}=(0,y.Z)(),Z=I?60:32,E=(0,t.k6)(),O=(0,t.$B)(),B=(0,t.TH)(),{invite_code:W}=(0,u.mB)(B.search),{appUpsellType:F,uiType:M,isBlocking:N}=(0,f.C)(),Q="login-iab"===M&&((0,o.Xn)(B)||(0,o.gf)(B)||(0,o.Ni)(B)),{checkExperiment:H}=(0,d.Z)();(0,m.Z)(()=>{(0,_.My)(`mweb.referred_app_upsell_view.${M}`)});let G=()=>{L({appUpsellType:F,viewType:l,viewParameter:i,component:14155,element:10308}),(0,x.Z)(),e()},K=O.params.id??"",{data:D}=(0,p.Z)(K?{name:"PinResource",options:{field_set_key:"detailed",id:K}}:null),J=(0,v.S6)()(K),{username:X,slug:Y}=(0,t.UO)(),{data:$}=(0,p.Z)(X&&Y?{name:"BoardResource",options:{username:(0,u.Jx)(X),slug:(0,u.Jx)(unescape(Y||"")),field_set_key:"detailed"}}:null);if("full"===M){let e="",i=null,l=!1;if((0,o.L6)(E.location)&&(e=(D??J)?.images?.orig?.url||"",i=(0,j.jsx)(C,{i18n:A,pinUrl:e})),(0,o.am)(E.location)&&$&&$.images&&$.images["474x"])if($.images["474x"].length>2){e=$.images["474x"][0].url||"";let t=$.images["474x"][1].url||"",a=$.images["474x"][2].url||"";l=!0,i=(0,j.jsx)(n.xu,{marginBottom:7,children:(0,j.jsxs)(n.kC,{children:[(0,j.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",marginRight:"1px"}},height:117,overflow:"hidden",width:117,children:(0,j.jsx)(n.Ee,{alt:A._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,j.jsxs)(n.kC,{direction:"column",children:[(0,j.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"16px",marginBottom:"1px"}},height:59,overflow:"hidden",width:57,children:(0,j.jsx)(n.Ee,{alt:A._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}),(0,j.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:"16px"}},height:57,overflow:"hidden",width:58,children:(0,j.jsx)(n.Ee,{alt:A._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:a})})]})]})})}else $.images["474x"].length>0&&(e=$.images["474x"][0].url||"",i=(0,j.jsx)(C,{i18n:A,pinUrl:e}));return e?(0,j.jsx)(z,{appUpsellType:F,backgroundImageUrl:e,handleDismiss:G,heroImage:i,i18n:A,multipleImages:l}):(0,j.jsx)(k,{appUpsellType:F,handleDismiss:G,i18n:A,iconSize:Z,upsellAppIsAndroidLiteApp:U})}if("inline"===M){let e=(0,j.jsx)(n.xu,{color:"light",padding:1,rounding:1,children:(0,j.jsx)(n.JO,{accessibilityLabel:A._('Pinterest logo', 'AppUpsellFooter.icon', 'Pinterest logo icon for app upsell footer'),color:"brandPrimary",icon:"pinterest",inline:!0,size:28})}),i=A._('It\'s better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell'),l=A._('Get similar recs and more', 'mweb.auth.referred_app_upsell.description4', 'description for referred app upsell');return F.endsWith("social-referred")&&W&&(i=(0,j.jsx)(w.UseCloseupInviteQuery,{variables:{inviteCode:W},children:e=>(0,r.nk)(A._('{{ invitee }} shared this idea', 'mweb.auth.referred_app_upsell.heading5', 'heading for referred app upsell that has the invitee info'),{invitee:e.v3GetInviteCodeQuery?.__typename==="InviteCodeResponse"?e.v3GetInviteCodeQuery?.data?.sender?.firstName:""})}),l=A._('Open app to discover more', 'mweb.auth.referred_app_upsell.description6', 'description for referred app upsell'),W&&(e=(0,j.jsx)(w.UseCloseupInviteQuery,{variables:{inviteCode:W},children:e=>(0,j.jsx)(n.xu,{height:48,overflow:"hidden",rounding:6,width:48,children:e.v3GetInviteCodeQuery?.__typename==="InviteCodeResponse"&&e.v3GetInviteCodeQuery.data?.sender?.imageMediumUrl&&(0,j.jsx)(n.Ee,{alt:A._('App upsell profile image', 'mweb.auth.referred_app_upsell.image1', 'image for referred app upsell, using invitee profile image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e.v3GetInviteCodeQuery.data.sender.imageMediumUrl})})}))),(0,j.jsx)(g.Z,{app_upsell_type:F,children:({handleOpenApp:t})=>(0,j.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#F1F1F1"}},direction:"row",display:"flex",height:74,padding:4,width:"100%",zIndex:new n.Ry(99999),children:(0,j.jsx)(n.iP,{onTap:()=>{(0,x.Z)(),t()},children:(0,j.jsxs)(n.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[e,(0,j.jsxs)(n.xu,{flex:"grow",marginStart:4,children:[(0,j.jsx)(n.xu,{marginBottom:1,children:(0,j.jsx)(n.xv,{children:i})}),(0,j.jsx)(n.xv,{weight:"bold",children:l})]}),(0,j.jsx)(n.xu,{"data-test-id":"referred-app-upsell-dismiss-button",children:(0,j.jsx)(n.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{G(),e.preventDefault(),e.stopPropagation()},size:"sm"})})]})})})})}{let e=A._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell');return F.endsWith("social-referred")&&W&&(e=(0,j.jsx)(w.UseCloseupInviteQuery,{variables:{inviteCode:W},children:e=>(0,r.nk)(A._('Join {{ invitee }} on Pinterest', 'mweb.auth.referred_app_upsell.heading4', 'heading for referred app upsell that has the invitee info'),{invitee:e.v3GetInviteCodeQuery?.__typename==="InviteCodeResponse"?e.v3GetInviteCodeQuery?.data?.sender?.firstName:""})})),!Q&&(0,j.jsx)(a.default,{accessibilityModalLabel:A._('modal', 'mweb.auth.referred_app_upsell.modal_label', 'modal label'),closeOnOutsideClick:!1,isOpen:!0,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new n.Ry(101),children:(0,j.jsxs)(n.xu,{"data-test-id":"appUpsell-iframe",padding:2,children:[(0,j.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:!("login-iab"===M&&N)&&(0,j.jsx)(n.xu,{"data-test-id":"referred-app-upsell-dismiss-button",marginStart:1,marginTop:1,children:(0,j.jsx)(n.hU,{accessibilityLabel:A._('close', 'mweb.auth.referred_app_upsell.close', 'close button'),icon:"cancel",onClick:()=>{G(),"login-iab"===M&&(0,_.My)("mweb.referred_app_upsell_view.iab_login_close")},size:"sm"})})}),(0,j.jsxs)(n.xu,{marginBottom:5,marginTop:8,paddingX:2,children:[(0,j.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,j.jsx)(n.JO,{accessibilityLabel:A._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:Z})}),"login-iab"===M?((e,i,l,t)=>{let a=(0,s.Z)(),r=t("mweb_unauth_social_iab_upsell_boost_experiment",{dangerouslySkipActivation:!0}).anyEnabled;return(0,j.jsx)(g.Z,{app_upsell_type:e,componentType:14155,children:({handleOpenApp:e})=>{let t=(0,j.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,_.My)("mweb.social_iab_referred_app_upsell.login_click"),i.push({pathname:"/login",state:{next:l.pathname,attributionLabel:"login-social-iab",..."object"==typeof l.state?l.state:{}}})},size:"lg",text:a._('Log in', 'mweb.auth.referred_app_upsell.login_in_button', 'CTA text for referred login upsell login button')}),s=(0,j.jsx)(n.zx,{color:"gray",fullWidth:!0,onClick:()=>{(0,x.Z)(),e(),(0,_.My)("mweb.social_iab_referred_app_upsell.open_app_click")},size:"lg",text:a._('Open app', 'mweb.auth.referred_app_upsell.continue', 'Continue text for referred app upsell')});return(0,j.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,j.jsx)(n.xu,{paddingY:2,children:(0,j.jsx)(n.X6,{align:"center",size:"400",children:r?a._('Endless inspiration awaits', 'mweb.auth.referred_app_upsell.login_upsell_heading2', 'heading for referred app upsell2'):a._('Unlock exclusive inspiration', 'mweb.auth.referred_app_upsell.login_upsell_heading', 'heading for referred app upsell')})}),(0,j.jsx)(n.xu,{width:246,children:(0,j.jsx)(n.xv,{align:"center",size:"300",children:r?a._('Log in to find ideas and inspiration you\'ll love. No words required', 'mweb.auth.referred_app_upsell.login_upsell_description2', 'description for referred app upsell2'):a._('Log in to explore the full board and more curated for you', 'mweb.auth.referred_app_upsell.login_upsell_description', 'description for referred app upsell')})}),(0,j.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,j.jsx)(n.xu,{marginBottom:2,width:246,children:t}),s]})]})}})})(F,E,B,H):(0,j.jsx)(P,{appUpsellType:F,description:A._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description3', 'description for referred app upsell'),handleDismiss:G,heading:e,i18n:A})]})]})})}}},155328:function(e,i,l){l.d(i,{Z:()=>n});var t=l(506662);function n(e,i){return"/"===e.pathname?"/":(0,t.am)(e)&&i?`board/${e.pathname.substr(1)}`:e.pathname.substr(1)}},657235:function(e,i,l){l.d(i,{Z:()=>r});var t=l(111330),n=l(121836),a=l(753143),s=l(238589);function r(){let e=(0,a.M0)();e.setItem(t.Li,Date.now()),e.getItem(t.O7)||e.setItem(t.O7,Date.now()),(0,s.Nl)().setItem(n.JO,!0)}},920120:function(e,i,l){l.d(i,{Z:()=>n});var t=l(980787);function n(){let{logContextEvent:e}=(0,t.u)();return{trackAppUpsellDismiss:({appUpsellType:i,viewType:l,viewParameter:t,component:n,element:a})=>{e({event_type:10220,view_type:l??202,view_parameter:t,component:n,element:a,aux_data:{app_upsell_type:i}})}}}},472500:function(e,i,l){l.r(i),l.d(i,{UseCloseupInviteQuery:()=>b,default:()=>v});var t,n=l(167912),a=l(20256),s=l(821806),r=l(936371),o=l(744862),d=l(525839),c=l(607001),p=l(572227),_=l(366859),u=l(603316),h=l(785893);function m({isStoryPin:e,inviteText:i,inviterFirstName:l,isThinnerStyle:t,username:n}){let s=(0,p.Z)(),r=i.split(l);return(0,h.jsx)(a.xu,{children:(0,h.jsx)(_.Z,{onTouch:()=>{(0,u.nP)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(a.xv,{inline:!0,size:"300",children:r[0]}),e?(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler"})},target:"blank",children:l})}):(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",weight:t?"normal":"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:l})}),(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",children:r[1]})]})})})}function g({inviter:e,socialContextBannerStyle:i,setShouldShowSocialUpsellBanner:l}){let{shouldShowSignupUpsellText:t,isDismissible:n}=i,s=(0,d.ZP)(),{username:r}=e,u=e.imageMediumUrl,g=e.firstName,f=(0,c.Z)(),x=(0,p.Z)();return(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:n?"center":"start",children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.iP,{fullHeight:!0,onTap:()=>{x({action:"click",item:"close-button",within:"social-banner"}),f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:2*!n,marginTop:2,paddingX:n?4:2,paddingY:4,position:n?"static":"absolute",rounding:"pill",top:!0,width:n?1012:void 0,zIndex:new a.Ry(1),children:[(0,h.jsx)(a.xu,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,h.jsx)(_.Z,{onTouch:e=>{e.stopPropagation(),r&&window.open("/"+r),x({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:u?.includes("default")?(0,h.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(o.qE,{name:g,size:"fit",src:u??void 0})})}),(0,h.jsxs)(a.kC,{direction:"row",flex:"grow",children:[(0,h.jsx)(m,{inviterFirstName:g,inviteText:t?(s._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g):(s._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g),isStoryPin:!1,isThinnerStyle:t,username:r}),t&&(0,h.jsx)(a.xu,{marginEnd:2,marginStart:1,children:(0,h.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:s._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),n&&(0,h.jsx)(a.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{e.stopPropagation(),x({action:"dismiss",item:"close-button",within:"social-banner"}),l?.(!1)},size:"sm"})]})})})})}var f=l(278566),x=l(634405);function y({inviter:{imageMediumUrl:e,username:i,firstName:l},isStoryPin:t}){let n=(0,d.ZP)(),s=()=>(0,u.nP)("mweb_social_unauth.closeup.avatar_click"),r=(0,x.Z)(),c=(0,p.Z)(),g=(n._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",i),y="undefined"!=typeof window&&window.innerWidth<360,w=i.length>25,b=(0,h.jsx)(_.Z,{pressState:"none",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginStart:0,marginTop:4,width:48,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:l,src:e??void 0})})}),(0,h.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,h.jsx)(a.xu,{marginStart:0,children:(0,h.jsx)(m,{inviterFirstName:l,inviteText:(n._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",l),isStoryPin:t,isThinnerStyle:!1,username:i})})})]})});return r&&t?(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:w?100:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginTop:4,width:40,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:l,size:"fit",src:e??void 0})})}),(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:w?"column":"row",display:"flex",justifyContent:w?"start":"between",padding:3*!!w,children:[(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!y,children:[(0,h.jsx)(a.kC,{children:(0,h.jsxs)(a.xv,{align:w?"center":"start",children:[(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:`/${i??""}/`,onClick:()=>{c({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:i})}),g.split(i)[1]]})}),!w&&(0,h.jsx)(a.xv,{size:"100",children:n._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:3*!!w,minWidth:100*!w,children:(0,h.jsx)(f.Z,{app_upsell_type:"social-context-header",componentType:14161,children:({handleOpenApp:e})=>(0,h.jsx)(a.zx,{onClick:()=>e(),size:"md",text:n._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):b}let w=(void 0!==t||(t=l(592816)).hash&&"04834691a929e56b42c6699e90a97155"!==t.hash&&console.error("The definition of 'UnauthCloseupInviteUpsellQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),b=({children:e,variables:i})=>e((0,n.useLazyLoadQuery)(w,i));function v({inviterFirstNameRef:e,isDesktop:i,isStoryPin:l,setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n}){return(0,h.jsx)(s.Z,{children:(0,h.jsx)(r.ty,{children:s=>s?(0,h.jsx)(b,{variables:{inviteCode:s},children:s=>{let{firstName:r,imageMediumUrl:o,username:d}=s.v3GetInviteCodeQuery?.data?.sender??Object.freeze({});return r&&d?(e&&(e.current=r),i?(0,h.jsx)(g,{inviter:{firstName:r,imageMediumUrl:o,username:d},setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n??{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,h.jsx)(y,{inviter:{firstName:r,imageMediumUrl:o,username:d},isStoryPin:!!l})})):null}}):null})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48292-442ec79ce17b63a8.mjs.map