(self.modernJsonp=self.modernJsonp||[]).push([["64172"],{139368:function(e,t,l){l.r(t),l.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null}],type:"Board",abstractKey:null};i.hash="e6f7469e465f8fd433bb76daf1f5abb3";let n=i},184242:function(e,t,l){var i,n,r,a;l.r(t),l.d(t,{default:()=>o});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:n=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};s.hash="3e837db15a9e9f5a0377c7ab62c7401e";let o=s},173248:function(e,t,l){l.r(t),l.d(t,{default:()=>n});let i=(u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},a={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:c=[d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:c,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},u,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[s,o,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},d,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:c,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:c,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:c,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},o],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},a],storageKey:null}]},params:{id:"1fe0d575d8bbfbf77977330e430d8bda3235fb9a405997904174cd53791f449d",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});i.hash="3ca45565a804bd5428a8509aa83434c3";let n=i;var r,a,s,o,d,c,u,p=i.default||i;if("query"===p.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(p);else{let e=[p.params.name,p.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=p}},763859:function(e,t,l){var i;l.r(t),l.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},i,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};n.hash="92b841173868ce353dd00b5fce287546";let r=n},705268:function(e,t,l){l.r(t),l.d(t,{default:()=>n});let i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};i.hash="5a3162913508a33c37676bde5973ea45";let n=i;var r,a,s,o,d,c=i.default||i;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},879991:function(e,t,l){var i;l.r(t),l.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};n.hash="756d8d8edca35eac0a0500359bf60618";let r=n},637117:function(e,t,l){l.d(t,{Z:()=>r});var i=l(20256),n=l(785893);let r=({text:e})=>(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e})},780879:function(e,t,l){l.d(t,{f:()=>S,l:()=>b});var i=l(667294),n=l(769430),r=l(753090),a=l(478135),s=l(288910),o=l(755222),d=l(838880),c=l(234681),u=l(272191),p=l(399573),h=l(729434),f=l(503246),g=l(949044),m=l(974705),_=l(785893);let y=(e,t,l)=>{let i=t?.find(({action:e})=>e?.filter?.product_filter_type===l);if(!i)return;let n=(0,g.Z)(m.Z,!0)(i),r=e.findIndex(({action:e})=>e?.filter?.productFilterType===l);e[r]?e[r]=n:e.push(n)},v=(e,t,l,i)=>{let n=i.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(n?.action?.filter){let e=n.action.filter.filterOptions;n.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[l]&&t.split(",").includes(String(e[l]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:b}=(0,h.Z)("OneBarProductFilters");function S({children:e}){let[t,l]=(0,i.useState)([]),[h,g]=(0,i.useState)(null),m=function(){let{scope:e}=(0,s.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),b=(0,u.Z)(),S=(0,d.Z)(),w=(0,n.Z)(),k=(0,r.Z)(),P=(0,c.Z)(),C=(0,i.useCallback)(({oneBarModules:e,baseCacheKey:i})=>{let n=e?.filter(({module_type:e})=>17===e||0===e);if(!n||n?.length===0||!i)return;let r=i!==h,a=r?[]:t;(r||!m)&&y(a,n,4),(r||!b)&&y(a,n,1),(r||!S)&&y(a,n,0),(r||!w)&&y(a,n,3),(r||!k)&&y(a,n,6),(r||!P)&&[7,8,9].forEach(e=>{y(a,n,e)}),(0,f.ZP)(a,t)||(l(a),g(i))},[t,w,k,m,S,P,b,h]),I=(0,o.Z)(),{priceMax:F,priceMin:E,scope:T,brands:j,onSale:A,colors:B,domains:L}=(0,s.n)();(0,i.useEffect)(()=>{if(!I||0===t.length)return;let e=(0,p.Z)(t);if(T!==a.lw.PINS){let t=(0,a.gi)(T),l=e.find(({moduleType:e})=>0===e);l?.action?.filter&&(l.action.filter.appliedFilterOptions=[...l.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:l}=e;return{searchType:l,selected:l===t}}))}if("string"==typeof F||"string"==typeof E){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(E)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(F)}:null].filter(Boolean))}v(new Set([3]),j,"stringValue",e),v(new Set([6]),B,"stringValue",e),v(new Set([0]),L,"stringValue",e),v(new Set([7,8,9]),A,"numericValue",e),(0,f.ZP)(e,t)||l(e)},[t,I,F,E,T,j,B,L,A]);let Z=(0,i.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:C}),[t,C]);return(0,_.jsx)(x,{value:Z,children:e})}},377678:function(e,t,l){l.d(t,{N$:()=>A,wy:()=>L,VA:()=>T});var i,n=l(667294),r=l(167912),a=l(780879),s=l(119797),o=l(448744),d=l(761256);let c=(e,t,l)=>l&&(0,o.nZ)(l,t)?s.v.MODIFIED:(0,o.B1)(t,e)||l&&(0,o.Uv)(l,e)||(0,o.Uv)(t,e)?s.v.CLEARED:s.v.APPLIED;function u(e,t){(0,o.ph)(t);let l=e.find(e=>e?.id===t.id),i=l?.rules,n=l?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||i;if(!n)return[e,[]];let r=[],a=[];return e.forEach(e=>{void 0!==e.product_filter_type&&n.includes(e.product_filter_type)?r.push(e):a.push(e)}),[r,a]}function p(e,t){switch(t.type){case"RESET_FILTERS":let[l,i]=t.payload,n=l,r=(0,d.Z)(i)?(0,o.iP)(l):i;return Object.values(r).forEach(e=>{let[t]=u(n,e);n=t}),{models:l,availableFilterModels:n,appliedFilters:i,filters:r,isFetching:!1,pendingDeletedSelections:{},status:c(l,i,r)};case"CLEAR_FILTERS":let a=e.models,p=(0,o.P5)(e.models);return Object.values(p).forEach(e=>{let[t]=u(a,e);a=t}),{...e,filters:p,availableFilterModels:a,pendingDeletedSelections:{},status:c(e.models,e.appliedFilters,p)};case"UPDATE_FILTER":let{payload:h}=t,[f,g]=u(e.models,h),m={...e.filters,[h.id]:h},_={...e.pendingDeletedSelections};return f.forEach(e=>{if(!e.id)return;let t=_[e.id];t&&(m[e.id]=t,delete _[e.id])}),g.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(_[e.id]=t,delete m[e.id])}),(0,o.ph)(h,e.models.find(e=>e.id===h.id))&&delete m[h.id],{...e,availableFilterModels:f,filters:m,pendingDeletedSelections:_,status:c(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:s.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:s.v.FAILED};case"SUBMIT_COMPLETE":let{filters:y}=e;return{...e,appliedFilters:y,pendingDeletedSelections:{},status:c(e.models,y)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var h=l(769430),f=l(753090),g=l(838880),m=l(234681),_=l(272191),y=l(503246);let v=new Set([1,0,3,6,7,8,9]),x=(e,t,l)=>{let i=t?.find(({product_filter_type:e})=>e===l);if(!i)return;let n=e.findIndex(({product_filter_type:e})=>e===l);e[n]?e[n]=i:e.push(i)},b=(e,t,l)=>{let i=t?.find(({product_filter_type:e})=>e===l);if(!i)return e;let n=e.findIndex(({product_filter_type:e})=>e===l);return e[n]?e[n]=i:e.push(i),e};var S=l(755222),w=l(729434),k=l(886981),P=l(288910),C=l(77155),I=l(785893);let F=()=>{},{Provider:E,getMaybe:T}=(0,w.Z)("UnifiedFiltersContext"),j=({applyInitFilters:e,children:t,filterModels:l,filters:i,isFetching:r,refreshFiltersData:a})=>{let{query:d}=(0,P.n)(),c=(0,S.Z)(),{getCachedFilters:u,cacheUnifiedFilterModelsWithProductFilters:w}=function(){let[e,t]=(0,n.useState)([]),[l,i]=(0,n.useState)(null),r=(0,_.Z)(),a=(0,g.Z)(),s=(0,h.Z)(),o=(0,f.Z)(),d=(0,m.Z)(),c=(0,n.useCallback)(({unifiedFilterModels:n,baseCacheKey:c})=>{let u=n?.filter(({product_filter_type:e})=>void 0!==e&&v.has(e));if(!u||u?.length===0||!c)return;let p=c!==l,h=p?[]:e;(p||!r)&&x(h,u,1),(p||!a)&&x(h,u,0),(p||!s)&&x(h,u,3),(p||!o)&&x(h,u,6),(p||!d)&&[7,8,9].forEach(e=>{x(h,u,e)}),(0,y.ZP)(h,e)||(t(h),i(c))},[e,s,o,a,d,r,l]);return{getCachedFilters:(0,n.useCallback)(t=>{if(!t||t?.length===0)return[];let l=[...t];return r&&(l=b(l,e,1)),a&&(l=b(l,e,0)),s&&(l=b(l,e,3)),o&&(l=b(l,e,6)),d&&[7,8,9].forEach(t=>{l=b(l,e,t)}),l},[e,s,o,a,d,r]),cacheUnifiedFilterModelsWithProductFilters:c}}(),k=e?.(l)||i||{},[C,F]=(0,n.useReducer)(p,{models:l,availableFilterModels:l,appliedFilters:k,filters:k,pendingDeletedSelections:{},isFetching:r,status:(0,o.B1)(k,l)||(0,o.Uv)(k,l)?s.v.CLEARED:s.v.APPLIED}),[T,j]=(0,n.useState)(l);(0,n.useEffect)(()=>{r&&F({type:"LOADING"})},[r]),(0,n.useEffect)(()=>{if(r||C.isFetching&&0===l.length)return;if(!(0,o.a$)(T,l))return void F({type:"LOADING_COMPLETED_OR_FAILED"});let t=l;c||(t=u([...l]),w({unifiedFilterModels:[...l],baseCacheKey:d})),F({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),j(l)},[e,l,T,r,C.isFetching,u,w,d,c]);let A=(0,n.useMemo)(()=>({filterState:C,dispatch:F,refreshFiltersData:a}),[C,a]);return(0,I.jsx)(E,{value:A,children:t})},A=({bookmark:e="",children:t,generateInitFilterCb:l})=>{let i=(0,S.Z)(),{data:n=null,refresh:r,isLoaded:s}=(0,k.Z)(!i&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,a.l)(),c=d.map(o.tx).filter(Boolean);return(0,I.jsx)(j,{applyInitFilters:l,filterModels:(i?c:n)||[],isFetching:i?0===c.length:!s||!e,refreshFiltersData:r,children:t})},B=(void 0!==i||(i=l(763859)).hash&&"92b841173868ce353dd00b5fce287546"!==i.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),L=({children:e,oneBarModulesKey:t})=>{let{data:l,isFetching:i,isLoaded:a}=(0,C.Z)(),{oneBarModules:o}=l||{},d=(0,r.useFragment)(B,t),c=(0,n.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:i,pendingDeletedSelections:{},status:s.v.CLEARED},refreshFiltersData:F}),[i]),u=(d?[d]:o?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),p=u?.action?.filters;if(!u||!p)return(0,I.jsx)(E,{value:c,children:e});let h=u.id||"",f={[h]:{id:h,selectedOptionId:p.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,I.jsx)(j,{filterModels:[{filter_component_type:2,filter_options:p.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:h,title:"",product_filter_type:4}],filters:f,isFetching:!a,refreshFiltersData:F,children:e})}},119797:function(e,t,l){l.d(t,{$:()=>i,v:()=>n});let i=50,n={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},239988:function(e,t,l){l.d(t,{Z:()=>c});var i=l(780879),n=l(377678),r=l(448744),a=l(949044),s=l(755522),o=l(510928),d=l(288910);function c(){let{brands:e,colors:t,domains:l,onSale:c,priceMax:u,priceMin:p}=(0,d.n)(),h=(0,n.VA)(),{cachedProductFilterOneBarModules:f}=(0,i.l)(),g=Number((0,o.Z)().filter_location);if(1===g){let{filterState:e}=h||{};return e?(0,r.Ax)(e.appliedFilters,e.models):null}if(0===g){let i=(0,a.Z)(s.Z,!0)(f.map(e=>e.action?.filter).filter(Boolean));return(0,r.vJ)({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:c,priceMaxParam:u,priceMinParam:p,unifiedFilterModels:i})}return null}},769430:function(e,t,l){l.d(t,{Z:()=>r});var i=l(616550),n=l(378888);function r(){return!!(0,n.mB)((0,i.TH)().search).brands}},753090:function(e,t,l){l.d(t,{Z:()=>a});var i=l(616550),n=l(274320),r=l(378888);function a(){let{checkExperiment:e}=(0,n.r)(),t=(0,i.TH)(),{colors:l}=(0,r.mB)(t.search);return!!l&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,l){l.d(t,{Z:()=>n});var i=l(274320);function n(){let{checkExperiment:e}=(0,i.r)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,l){l.d(t,{Z:()=>r});var i=l(616550),n=l(378888);function r(){return!!(0,n.mB)((0,i.TH)().search).domains}},272191:function(e,t,l){l.d(t,{Z:()=>r});var i=l(616550),n=l(378888);function r(){let e=(0,i.TH)(),{price_max:t,price_min:l}=(0,n.mB)(e.search);return!!(l??t)}},448744:function(e,t,l){l.d(t,{Ak:()=>w,Ax:()=>x,B1:()=>p,LG:()=>S,P5:()=>g,UP:()=>k,Uv:()=>h,a$:()=>c,eF:()=>P,i7:()=>_,iP:()=>f,nZ:()=>d,ph:()=>u,rc:()=>v,tx:()=>b,vJ:()=>y});var i=l(119797),n=l(503246),r=l(478135);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:l})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:l,image_url:i,is_verified:n,numeric_value:r,string_value:a,unit:s})=>({id:e,label:t,count:l,image_url:i,is_verified:n,numeric_value:r,string_value:a,unit:s})),title:l})),s=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,n.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},o=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(o(e)&&o(t))return!1;if(o(e)||o(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let l in e)if(s(e[l],t?.[l]))return!0;return!1},c=(e,t)=>!(0,n.ZP)(a(e),a(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},p=(e,t)=>{try{for(let l in e){let i=e[l],n=t.find(e=>e.id===i?.id);if(i&&!u(i,n))return!1}return!0}catch(e){return!0}},h=(e,t)=>{if(!t||0===t.length)return!1;let l=t[0];if(!l)return!1;switch(l?.filter_component_type){case 2:let i=l.filter_options?.[0];for(let t in e){let l=e[t];if(!l)break;if("selectedOptionId"in l&&l.selectedOptionId===i?.id)return!0}return!1;case 1:for(let t in e){let i=e[t];if(!i)break;if(i.id===l.id&&"selectedOptionIds"in i&&0===i.selectedOptionIds.size)return!0}return!1;default:return!1}},f=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let l=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return l&&l.length>0?{selectedOptionIds:new Set(l),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),g=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let l=t.filter_options?.[0]?.id;return l&&"string"==typeof t.id?{[t.id]:{selectedOptionId:l,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:l,product_filter_type:i}=e,n=t;return"number"==typeof i&&(n+=`_${i}`),l.length>0&&(n+=":",l.forEach((e,t)=>{let{filter_option_id:i,numeric_value:r,string_value:a,unit:s}=e;n+=`${i}`,"number"==typeof r&&(n+=`_${r}`),"string"==typeof a&&(n+=`_${a}`),"string"==typeof s&&(n+=`_${s}`),t<l.length-1&&(n+=",")})),n}).join("|"),_=({brands:e,colors:t,domains:l,onSale:i,priceMax:n,priceMin:a,scope:s,unifiedFilterModels:o})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:p}of o)if(u&&c?.length){if(1===p&&("number"==typeof a||"number"==typeof n)){let[e,t,l,i]=c,r=a??l?.numeric_value??e?.numeric_value??0,s=n??i?.numeric_value??t?.numeric_value??100;d[u]={min:r,max:s,id:u,type:"range",lastChangedLocation:1}}if(0===p&&l&&l.length>0){let e=l.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===p&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===p&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===p&&s){let e=(0,r.gi)(s),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof p&&new Set([7,8,9]).has(p)&&i){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},y=({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:i,priceMaxParam:n,priceMinParam:r,unifiedFilterModels:a})=>{let s=[],o=Number(r),d=Number(n),c=Number.isNaN(o)?void 0:o,u=Number.isNaN(d)?void 0:d,p=l?.split(",").filter(Boolean)??[],h=e?.split(",").filter(Boolean)??[],f=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:l}of a)if(t&&e?.length){if(1===l&&"number"==typeof c&&"number"==typeof u){let i={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:l};s.push(i)}if(0===l&&p&&p.length>0){let i=p.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(3===l&&h&&h.length>0){let i=h.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(6===l&&f&&f.length>0){let i=f.map(t=>{let l=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return l?l.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};s.push(e)}}if(7===l&&i){let n=e[0]?.id;if(n){let e={filter_id:t,filter_options:[{filter_option_id:n,numeric_value:Number(i)}],location:0,product_filter_type:l};s.push(e)}}}return 0===s.length?null:m(s)},v=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:l})=>{let i=null,n=null,a=!1,s=null,o=null,d=null,c=null,u=null;for(let p in e){let h=e[p];if(h){let e=l.find(e=>e.id===h.id);if(e)if("range"===h.type&&1===e.product_filter_type)d=h.min,o=h.max;else if("multi"===h.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));s=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));i=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===h.type&&4===e.product_filter_type){let l=e.filter_options?.find(e=>h.selectedOptionId===e.id),i=l&&void 0!==l.search_type?(0,r.zh)(l.search_type):r.lw.PINS;u=i,t&&(u=i===r.lw.PINS_BUYABLE?r.lw.PINS:i,a=i===r.lw.PINS_BUYABLE)}else"single"===h.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let p=l.find(e=>4===e.product_filter_type),h=p?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof h?.search_type&&(u=(0,r.zh)(h.search_type)),{brands:i,colors:n,commerce_only:a,domains:s,max:o,min:d,on_sale:c,scope:u}},x=(e,t)=>{let l=[];return(Object.entries(e).forEach(([e,i])=>{let n=t.find(e=>e.id===i.id);if(!n||4===n.product_filter_type||"number"!=typeof n.product_filter_type||!n.filter_options)return;let r=[];if("range"===i.type){let[e,t]=n.filter_options;if(!e?.id||!t?.id)return;r=[{filter_option_id:e.id,numeric_value:i.min,unit:e.unit},{filter_option_id:t.id,numeric_value:i.max,unit:t.unit}]}if("single"===i.type){let e=n.filter_options.find(e=>e.id===i.selectedOptionId);if(!e?.id)return;r=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===i.type){let e=n.filter_options.filter(e=>e.id&&i.selectedOptionIds.has(e.id));if(0===e.length)return;r=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}l.push({filter_id:e,filter_options:r,location:i.lastChangedLocation,product_filter_type:n.product_filter_type})}),l&&0!==l.length)?m(l):null},b=e=>{let{filter:t,title:l}=e.action||{},{title:i}=t||{},n=l||i;if(!t||!n)return null;let{filterComponentType:r,productFilterType:a,id:s}=t,o=(t.filterOptions||[]).filter(Boolean);if(void 0===r||void 0===o||0===o.length||null==a||null==s)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:l,imageUrl:i,isVerified:n,label:r,numericValue:a,searchType:s,stringValue:o,unit:d,rules:c}=e;return null===i||null===i||null===a||null===n||null===o||null===d?null:{id:l||"",label:r||"",count:0,image_url:i,is_verified:n,numeric_value:a,...c?{rules:[...c]}:{},..."number"==typeof s?{search_type:s}:{},string_value:o,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(o);return d?{filter_component_type:r,filter_options:[...d],id:s||"",product_filter_type:a,title:n}:null};function S(e,t,l){let[n,r,a,s]=l,{numeric_value:o=0}=s??n??{},{numeric_value:d=o+i.$}=a??r??{},{unit:c="USD"}=n??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:o,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:o,unit:c,range:u}}function w(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function k(e,t){let l=[];return Object.entries(t).forEach(([t,i])=>{let n=e.find(e=>e?.id===t);if(n){let e=n.aux_data?.module_id;e&&l.push(e);let t=("multi"===i.type?Array.from(i.selectedOptionIds):"single"===i.type?[i.selectedOptionId]:[]).map(e=>{let t=n.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);l.push(...t)}}),l}function P(e,t){let l=[];return Object.keys(t).forEach(t=>{let i=e.find(e=>e?.id===t);if(i){let e=i.product_filter_type;e&&l.push(e)}}),l}},660341:function(e,t,l){l.d(t,{Z:()=>r,t:()=>n});var i=l(940280);let n=[i.i.GUIDED_SEARCH_LANDING,i.i.GUIDED_SEARCH_ENTRY],r=296},512712:function(e,t,l){function i(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:l}){let i=l.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}l.d(t,{x:()=>n,y:()=>i})},273094:function(e,t,l){l.d(t,{Z:()=>s});var i=l(667294),n=l(20256),r=l(547585),a=l(785893);function s({carouselData:e,contextLogData:t,height:l,id:s,index:o,slideWidth:d,view:c,impressionType:u,viewParameter:p}){let[h,f]=(0,i.useState)(null),[g,m]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{h!==o?(f(o),m(!1)):m(!0)},[o,h]),e)?(0,a.jsx)(r.JE,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:u??"Pin",isPaused:!g,loggingId:s,slotIndex:o,viewParameter:p,viewType:c,children:({impressionTrackerRef:e})=>(0,a.jsx)(n.xu,{ref:e,"data-test-id":`carousel-impression-ref-${s}-${o}`,height:l,overflow:"hidden",position:"absolute",width:d})},`carousel-impression-key-${o}`):null}},115247:function(e,t,l){l.d(t,{Z:()=>a});var i=l(667294);function n(e,t,l){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class r extends i.Component{constructor(...e){super(...e),n(this,"ref",(0,i.createRef)()),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=r},410690:function(e,t,l){l.d(t,{Z:()=>o});var i=l(20256),n=l(364843),r=l(274320),a=l(647709),s=l(785893);function o({allBold:e,searchDelightConfig:t,query:l="",text:o}){let{checkExperiment:d}=(0,r.r)(),c=(0,a.HG)(),u=l.trim(),p=o.toLowerCase(),h=(p.startsWith(u.toLowerCase())?u:"").length,f=t?(0,n.pF)(o,t.search_query_list):null;if(f&&t)return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,s.jsx)(n.KS,{allBold:e,searchDelightConfig:t,searchDelightParts:f,text:o,weightPivot:h})});if(!c&&d("web_search_autocomplete_visual_treatment").anyEnabled){let e=((e,t)=>{let l=Array(e.length).fill(!1);t.forEach(t=>{if(!t)return;let i=0;for(;i<=e.length-t.length;){let n=e.indexOf(t,i);if(-1===n)break;let r=n+t.length,a=!1;for(let e=n;e<r;e+=1)if(l[e]){a=!0;break}if(!a){for(let e=n;e<r;e+=1)l[e]=!0;break}i=r}});let i=[],n=0;for(;n<l.length;){let e=l[n],t=n+1;for(;t<l.length&&l[t]===e;)t+=1;i.push({matched:!!e,start:n,end:t}),n=t}return i})(p,u.toLowerCase().split(/\s/));return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:e.map(({matched:e,start:t,end:l})=>(0,s.jsx)(i.xv,{color:e?"subtle":"default",inline:!0,weight:e?"normal":"bold",children:o.substring(t,l)},`search-autocomplete-suggestion-${o}-${t}-${l}`))})}return(0,s.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,s.jsx)(i.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:o.substring(0,h)}),(0,s.jsx)(i.xv,{inline:!0,weight:"bold",children:o.substring(h)})]})}},256310:function(e,t,l){l.d(t,{Z:()=>v,b:()=>_});var i,n=l(667294),r=l(581722),a=l(422578),s=l(616550),o=l(20256),d=l(918920),c=l(506662),u=l(15667),p=l(941404),h=l(163404),f=l(647709),g=l(702226);let m=(void 0!==i||(i=l(705268)).hash&&"5a3162913508a33c37676bde5973ea45"!==i.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),_=e=>{let t={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,c.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.am)(e)?(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.dr)(e)&&(t.pageType="klp",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0),t},y=({fetchedSuggestedTerms:e,deviceType:t,pageType:l,dataType:i})=>{let n={deviceType:t,dataType:i,pageType:l};return e.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",{termsCount:e.length,...n}),e=[]):(e=e.filter(e=>e.split(" ").length>1).map(e=>e.toLowerCase())).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",{termsCount:e.length,...n}),e=[]),e};function v(){let[e,t]=(0,n.useState)([]),l=(0,s.TH)(),i=(0,s.UO)(),v=(0,o.JZ)(),x=(0,h.Z)(l.pathname)||"",{isAuthenticated:b}=(0,u.B)(),S=(0,f.ZP)(),w=(0,c.uM)(l),k=(0,c.am)(l),P=(0,c.dr)(l),{pageType:C,isEligiblePageTypeForDynamicSearchPlaceholder:I}=_(l),F=i.id||(0,d.Gt)(i.interest||""),E=!b&&I&&!v,T=(0,a.useRelayEnvironment)(),j=(0,r.v9)(e=>(0,g.Z)(e)[l.pathname]),A=(0,r.v9)(({topics:e})=>Object.keys(e).reduce((t,l)=>{let i=e[l];return t[i.slug]=i,t[l]=i,t},{})[F]),B=e=>e.reduce((e,t)=>t.name?[...e,t.name]:e,[]),L=(0,n.useCallback)(()=>{(0,a.fetchQuery)(T,m,{pinId:x},{fetchPolicy:"store-or-network"}).subscribe({next:e=>{let l=[],i=e.v3GetPinQuery?.__typename==="V3GetPin"?e.v3GetPinQuery?.data:null;i?.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(i?.pinJoin?.visualAnnotation&&(l=i.pinJoin.visualAnnotation),l=y({fetchedSuggestedTerms:l,deviceType:S,pageType:C,dataType:"vase"})),t(l.slice(0,5))},error:e=>{(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[S,x,T,C]),Z=(0,n.useCallback)(()=>{if(j?.seo_related_interests&&!j.owner?.is_partner){let e=B(j.seo_related_interests);t((e=y({fetchedSuggestedTerms:e,deviceType:S,pageType:C,dataType:"board_annotations"})).slice(0,5))}},[j,C,S]),K=(0,n.useCallback)(()=>{if(A?.seo_related_interests){let e=B(A.seo_related_interests);t((e=y({fetchedSuggestedTerms:e,deviceType:S,pageType:C,dataType:"klp_annotations"})).slice(0,5))}},[A,C,S]);return(0,n.useEffect)(()=>{!b&&E&&("desktop"!==S?t([]):(w&&L(),k&&Z(),P&&K()))},[j,w,k,P,E,b,S,L,Z,K]),(0,n.useEffect)(()=>{w||k||P||0===e.length||t([])},[w,e.length,k,P]),e}},490186:function(e,t,l){l.d(t,{Z:()=>n});var i=l(403135);function n(e){let{enteredQuery:t,filters:l,guideAdded:n,query:r,requestParams:a,rs:s,scope:o,selectedOneBarModules:d,user:c,inlineSuggestion:u}=e;if(!r)return"/";let p={q:r,rs:s,...a};if(l&&(p.filters=l),c&&(p.user=c),d&&(p.selected_one_bar_modules=d),n&&n.term&&(p.add_refine=`${n.term}|guide|word|${n.index}`),t&&(p.entered_query=t),u&&(p.inline_suggestion=u),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,i.Z)(p)}`;let h=o;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(h)||(h="pins"),h?`/search/${h}/?${(0,i.Z)(p)}`:`${window.location.pathname}?${(0,i.Z)(p)}`}},970979:function(e,t,l){l.d(t,{Z:()=>n});var i=l(378888);function n(e){let t,l=(0,i.mB)(e.search)||{};if(l.q){let l=e.pathname.split("/");t=l.length>2?l[2]:"pins"}if(l.q&&t){let e=Array.isArray(l.q)?l.q.join(" "):l.q,i=Array.isArray(l.rs)?"":l.rs,n=Array.isArray(l.user)?"":l.user;return{filters:l.filters||"",user:n,query:e||"",rs:i||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},316949:function(e,t,l){l.d(t,{Z:()=>i});function i({category:e,domains:t,maxPrice:l,minPrice:i}){return[e,t,l,i].map(e=>e??"").join("-")}},390957:function(e,t,l){l.d(t,{Z:()=>r});var i=l(512712),n=l(403135);function r({bubbleId:e,pinId:t,query:l,referringSource:r,storyCategory:a,storyId:s,title:o}){let d=[0,24,21,26].includes(a),c=(0,n.Z)({q:l,rs:r||void 0,b_id:e,source_id:s,top_pin_ids:t}),u=d&&o?(0,i.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},672061:function(e,t,l){l.d(t,{Z:()=>n});var i=l(378888);function n(e,t){let l=(0,i.mB)(e);return l.utm_pai&&l.utm_source&&l.pid&&"pins"===t?l.pid:null}},902293:function(e,t,l){l.d(t,{J:()=>i,Z:()=>n});let i=-1;function n(e){switch(e){case i:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},123998:function(e,t,l){l.d(t,{Z:()=>_});var i=l(667294),n=l(20256),r=l(390843),a=l(115247),s=l(15667),o=l(734215),d=l(998212),c=l(732888),u=l(738140),p=l(169053),h=l(785893);function f(e,t,l){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class g extends i.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:l,objectId:i,timeSpentContext:n,view:r,viewParameter:a}=this.props;return{view:r||n?.view,viewParameter:a||n?.viewParameter,component:t||n?.component,element:l,objectId:i||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:l,left:i,right:n,top:r}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===l&&0===i&&0===n&&0===r?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new c.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,h.jsx)(u.$,{value:this.getContext(),children:(0,h.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:l=>(0,h.jsx)(n.xu,{ref:l,height:t??"100%",children:i.Children.only(e)})})})}}function m(e){let t=(0,r.ou)(),l=(0,u.a)(),n=(0,d.Z)(),a=(0,p.EQ)(),{requestIdentifier:o=""}=(0,s.B)(),c={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(a??{})},[a,n]),n?(0,h.jsx)(g,{...e,auxData:c,timeSpentContext:l,timeSpentManager:n,children:e.children}):e.children}m.displayName="DeprecatedTimeSpent";let _=m},738140:function(e,t,l){l.d(t,{$:()=>i,a:()=>n});let{Provider:i,getMaybe:n}=(0,l(729434).Z)("timeSpentContext")},134475:function(e,t,l){l.d(t,{U:()=>r,Z:()=>a});var i=l(20256),n=l(785893);let r=", ";function a(){return(0,n.jsx)(i.xu,{display:"visuallyHidden",children:r})}},322838:function(e,t,l){l.d(t,{Z:()=>T});var i,n=l(667294);l(167912);var r=l(616550),a=l(20256),s=l(521009),o=l(821342),d=l(415546),c=l(670622),u=l(525839),p=l(906553),h=l(302148),f=l(15667),g=l(941404),m=l(134475),_=l(734263),y=l(647709),v=l(223615),x=l(975740),b=l(785893);function S({boardId:e}){let t=(0,u.ZP)(),l=(0,o.Z)(),i=(0,y.HG)(),r=(0,x.gC)()(e),s=function(e){let t=(0,o.Z)(),l=(0,y.HG)()&&t&&t.isAuth,i=(0,x.gC)()(e);return(0,n.useMemo)(()=>{if(!i)return[];let{owner:e,collaborating_users:n}=i,[r,a,s]=[new Set,new Set,new Set];for(let l of[...e?[e]:[],...n||[]])l.id===e?.id?r.add(l):l.id===(t.isAuth?t.id:void 0)?a.add(l):s.add(l);return[...r,...a,...s].map(e=>({name:(l?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[l,i,t])}(e);if(!r)return null;let{collaborator_count:d=0}=r,c=i&&l&&l.isAuth?23:16,p=c/3*((s.length>2?3:s.length)*2+1),f=d>=s.length?d-s.length:0,g=[...s,...Array(f=f>99?100:f).fill({name:"",src:""})],m="",_=s.slice(0,3).map(e=>e.name);switch(s.length){case 3:m=(0,h.Wc)(`${t._('{{ first }}, {{ second }}, and {{ last }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.threeAvatars', 'List of three usernames. Placeholders: first: first collaborator name, second: second collaborator name, last: third collaborator name.')}`,{first:`${_[0]??""}`,second:`${_[1]??""}`,last:`${_[2]??""}`});break;case 2:m=(0,h.Wc)(`${t._('{{ first }} and {{ second }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.twoAvatars', 'List of two usernames. Placeholders: first: first collaborator name, second: second collaborator name.')}`,{first:`${_[0]??""}`,second:`${_[1]??""}`});break;default:m=_.join(", ")}let v=s.length>3?(0,h.Wc)(`, ${t.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', s.length - 3, 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars. Placeholders: userNames: list of displayed collaborator names, leftCount: count of non-displayed collaborators.')}`,{userNames:m,leftCount:`${s.length-3}`}):(0,h.Wc)(`, ${t._('Collaborators: {{ userNames }}.', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.notAboveThree', 'Accessibility label for the Avatar Group component that lists the names of collaborators. Placeholder: userNames: list of displayed collaborator names.')}`,{userNames:m});return(0,b.jsx)(a.xu,{height:c,marginStart:2,minWidth:p,width:p,children:(0,b.jsx)(a.HE,{accessibilityLabel:v,collaborators:g})})}var w=l(271597),k=l(298097),P=l(38817),C=l(547585),I=l(452516);let F=(void 0!==i||(i=l(139368)).hash&&"e6f7469e465f8fd433bb76daf1f5abb3"!==i.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),E=({children:e,isOwnProfile:t,lineClamp:l})=>(0,y.HG)()?(0,b.jsx)(a.X6,{accessibilityLevel:2,lineClamp:t?1:l,size:t?"400":"300",children:e}):(0,b.jsx)(a.xv,{lineClamp:t?1:l,size:t?void 0:"200",weight:"bold",children:e});function T({archivedDate:e,boardId:t,boardUrl:l,canEdit:i,numberOfCollaborators:x,containerBackgroundColor:T,coverPhoto:j,display:A,followButtonDisabled:B=!1,followedByMe:L,fullSizeDrawer:Z,sensitivityScreen:K,handleInviteResponse:D,hideMeta:O,hideSecretBoardIcon:R=!1,id:M,invite:U,imagesLego:z=[],isActive:N,isAttributionHeightUnfixed:$,isAuthenticated:H,isBoardInviteAccepted:q,isCollaborative:G,isCollaborator:W,isCollaboratorsAttributionVisible:V=!1,isFeaturedBoardsModule:Q=!1,isHomePageBoards:Y,isOwner:X,isProtected:J,isSecret:ee,lastModifiedDate:et,layout:el,lineClamp:ei=2,locale:en,metaMarginTop:er=0,metaMarginBottom:ea=0,metaPaddingY:es=2,name:eo,numCols:ed,onEditClick:ec,onFollow:eu,onUnfollow:ep,pinCount:eh=0,sectionCount:ef,slotIndex:eg,showFollowButton:em,showBoardCollaborators:e_=!0,showTitleOnly:ey,trackingParams:ev,boardKey:ex,viewObjectIdStr:eb,viewParameter:eS,viewType:ew}){let ek=(0,u.ZP)(),eP=(0,c.Z)(),eC=(0,p.Z)(),eI=(0,s.Z)(),eF=(0,y.HG)(),{isRTL:eE}=(0,f.B)(),eT=(0,o.Z)(),{username:ej}=(0,r.UO)(),eA=(0,I.Z)(),eB=eA[ej??""]?.is_gco_account,eL=(0,d.Z)(F,ex),eZ=eF&&H,eK="square"===el?w.M0:w.z9,eD="responsive"!==A&&(eZ||Q)?eK:"100%",eO=eT.isAuth&&eT.username===ej,eR=e=>{H||(0,g.NC)("press_follow_board"),eu&&eu(e)},eM=e=>{H||(0,g.NC)("press_unfollow_board"),ep&&ep(e)},eU=z.map(e=>({url:e.url,name:eo})),ez=!!eL?.owner&&!i&&em,eN=eL?.owner?.isVerifiedMerchant,e$=eL?.owner?.verifiedIdentity?.verified,eH=G&&!Q;eO||(eH&&=!!ej&&!eB);let eq=!X&&!W&&!!K?.show_warning,eG={board_id:M,reason:K?.reason},eW=!eO&&!ey&&(!ej||V||eB),eV=eZ?void 0:w.s0+(ez?w.o2:0);eO||(eV=eF?void 0:(eW?w.AC:w.Y_)+(ez?w.o2:0));let eQ=ez&&"responsive"!==A?`max(calc(25vh + 10px), calc(210px + ${5*!eO}vh))`:"100%";return(0,n.useEffect)(()=>{eq&&eI({event_type:13,component:13861,view_type:215,aux_data:eG})},[]),(0,b.jsx)(C.fS,{auxData:{board_id:M,board_pin_count:eh??0,board_section_count:ef??0,grid_index:eg||0},impressionData:{imageURL:j?.url},loggingId:M,slotIndex:eg||0,trackingParams:ev,viewData:{view_object_id_str:eb},viewParameter:eS,viewType:ew,children:({impressionTrackerRef:r})=>(0,b.jsxs)(a.xu,{ref:r,"data-test-id":`boardCard-${eo}`,height:e&&!eF?"100%":eQ,position:"relative",width:eD,children:[(0,b.jsx)(a.zd,{rounding:4,children:(0,b.jsx)(k.Z,{canEdit:i,containerBackgroundColor:T,coverPhoto:j,coverPinKey:eL?.coverPin,fullSize:Z,hideSecretBoardIcon:R,images:eU,isActive:N,isHomePageBoards:Y,isProtected:J,isSecret:ee,layout:el,onEditClick:ec,renderAsImage:!0,showSensitivityScreen:eq})}),!O&&(0,b.jsx)(n.Fragment,{children:U?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(a.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,b.jsxs)(a.xu,{width:"100%",children:[(0,b.jsx)(a.rU,{href:l??"",children:(0,b.jsx)(a.xu,{marginBottom:1,marginTop:0,children:(0,b.jsx)(E,{isOwnProfile:eO,lineClamp:ei,children:eo})})}),q?(0,b.jsx)(a.xv,{lineClamp:1,size:"200",children:ek._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(a.xv,{size:"200",children:function(e,t){let{full_name:l,username:i}=e,n=(0,b.jsx)(a.rU,{display:"inlineBlock",href:`/${i}`,underline:"hover",children:l},"linkToUser");return(0,h.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:n})}(U.invited_by_user,ek)})]}),e_&&(0,b.jsx)(S,{boardId:t})]}),q?(0,b.jsx)(a.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(a.ZP,{fullWidth:!0,href:l??"",size:"lg",text:ek._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(a.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(a.zx,{fullWidth:!0,onClick:()=>{D?.(!1)},size:"lg",text:ek._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{D?.(!0)},size:"lg",text:ek._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(a.xu,{height:$?void 0:eV,marginBottom:ea,marginTop:er,paddingX:2,paddingY:es,children:[(0,b.jsxs)(a.xu,{alignItems:eO?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(E,{isOwnProfile:eO,lineClamp:ei,children:eo}),eH&&e_&&(0,b.jsx)(S,{boardId:t})]}),eW&&(0,b.jsx)(a.xu,{marginTop:1,children:(0,b.jsx)(v.Z,{numberOfCollaborators:x,ownerFullName:eL?.owner?.fullName??"",ownerIsVerifiedIdentity:!!e$,ownerIsVerifiedMerchant:!!eN,showBoardCollaborators:e_})}),!ey&&(0,b.jsxs)(a.xu,{alignItems:eF?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,b.jsx)(a.kC.Item,{flex:"none",children:(0,b.jsxs)(a.xv,{color:eO?void 0:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(m.Z,{}),(0,h.nk)(ek.ngettext('{{ count }} Pin', '{{ count }} Pins', eh, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eC(en,eh,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ef&&(0,b.jsxs)(a.xv,{color:eO?void 0:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(_.Z,{ariaHidden:!0,size:"100"}),(0,b.jsx)(m.Z,{}),(0,h.nk)(ek.ngettext('{{ count }} section', '{{ count }} sections', ef, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ef})]}),!eO&&(0,b.jsx)(a.xv,{color:"subtle",size:"100",children:(0,b.jsx)(_.Z,{ariaHidden:!0,size:"100"})}),(0,b.jsx)(a.kC.Item,{flex:ef?"none":"grow",children:(0,b.jsx)(a.xu,{display:"flex",marginEnd:2*!!eE,marginStart:eO?2:void 0,children:(0,b.jsxs)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(m.Z,{}),eP(et,!0)]})})})]}),e&&!eF&&(0,b.jsxs)(a.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,b.jsx)(m.Z,{}),ek._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),ez&&(0,b.jsx)(a.xu,{column:2===ed?12:void 0,flex:"none",marginTop:2===ed?3:void 0,children:(0,b.jsx)(P.Z,{disabled:!!eL?.owner?.blockedByMe||B,followEventType:26,id:M,isFollowed:L,onFollow:eR,onUnfollow:eM,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eS,viewType:ew})})]})})]})})}},222401:function(e,t,l){l.r(t),l.d(t,{default:()=>w});var i,n=l(667294),r=l(581722);l(167912);var a=l(20256),s=l(521009),o=l(821342),d=l(415546),c=l(15667),u=l(941404),p=l(572227),h=l(647709),f=l(322838),g=l(537005),m=l(408575),_=l(207691),y=l(975740),v=l(785893);let x=(void 0!==i||(i=l(184242)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==i.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),b=["thumbnail","imageOnly"],S=({isUsingMask:e,setIsHovered:t,children:l})=>{let i=(0,h.HG)();return e&&i?(0,v.jsx)(a.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:l}):(0,v.jsx)(n.Fragment,{children:l})};function w({boardKey:e,component:t,containerBackgroundColor:l,display:i="responsive",forwardedRef:w,fullSize:k,hideSecretBoardIcon:P=!1,isAttributionHeightUnfixed:C=!1,isCollaboratorsAttributionVisible:I=!1,isFeaturedBoardsModule:F=!1,isHomePageBoards:E,noPaddings:T=!1,showFollowButton:j=!0,isUsingMask:A=!1,showPinCount:B=!0,slotIndex:L,type:Z,viewObjectIdStr:K,viewParameter:D,viewType:O,trackInteractionObjectProp:R,isFromProfileGrid:M=!1,metaMarginTop:U=2,metaMarginBottom:z=0,metaPaddingY:N=0}){let $=(0,o.Z)(),H=$&&$.isAuth,q=(0,r.I0)(),{locale:G}=(0,c.B)(),W=(0,p.Z)(),V=(0,d.Z)(x,e),Q=(0,y.gC)(),Y=V?.entityId?Q(V.entityId):null,X=(0,g.Z)(V),J=(0,s.Z)(),ee=(0,h.HG)(),[et,el]=(0,n.useState)(!1);if(!V)return null;let{collaboratingUsers:ei,owner:en,privacy:er,shouldShowBoardCollaborators:ea}=V,es=$.isAuth?$.id:"",eo=en?.entityId===es,ed=[];ei?.__typename==="UserCollaboratingUsersConnectionContainer"?ed=ei.connection?.edges?.map(e=>e?.node?.entityId)??[]:Y?.collaborating_users&&(ed=Y.collaborating_users.map(e=>e.id));let ec=ed.includes(es)||eo;if("secret"===er&&!ec)return null;let eu=!H&&!(M&&V.hasCustomCover)&&!!V.images236x?.[0]?.url,ep="grid"===Z||"thumbnail"===Z?2:4,eh=eu?V.images236x?.[0]?.url:X(ep),ef=V.coverPin??Y?.cover_pin,eg=(ef?.crop&&ef?.size&&{x:ef?.crop[0]??0,y:ef?.crop[1]??0,width:ef?.size[0]??0,height:ef?.size[0]??0})??{x:0,y:0,width:0,height:0},em={isCustom:!eu&&(V.hasCustomCover||void 0),url:eh,position:eg},e_=V.pinThumbnailUrls??Y?.pin_thumbnail_urls,ey=(0,m.Jx)(V.images170x,e_?.filter(e=>null!==e)??void 0,eh).map(({url:e})=>({name:(0,m.po)(e),url:e})),ev=[44,49].includes(D)||[3,442,625].includes(O),ex=V?.sensitivityScreen?{reason:V.sensitivityScreen?.reason,showWarning:V.sensitivityScreen?.showWarning}:void 0,eb=V.pinCount??Y?.pin_count??0,eS=V.sectionCount??Y?.section_count??0,ew=(0,v.jsx)(f.Z,{archivedDate:V.archivedByMeAt??Y?.archived_by_me_at,boardId:V.entityId,boardKey:V,canEdit:!!V.boardAccess&&V.boardAccess.includes("write"),containerBackgroundColor:l,coverPhoto:em,display:i,followedByMe:!!(Y?.followed_by_me??V.followedByMe),fullSizeDrawer:k,hideMeta:b.includes(Z),hideSecretBoardIcon:P,id:V.entityId,imagesLego:ey,isActive:et,isAttributionHeightUnfixed:C,isAuthenticated:H,isCollaborative:!!V.isCollaborative,isCollaborator:!!ec,isCollaboratorsAttributionVisible:I,isFeaturedBoardsModule:F,isHomePageBoards:E,isOwner:eo,isProtected:"protected"===V.privacy||Y?.privacy==="protected",isSecret:"secret"===V.privacy||Y?.privacy==="secret",lastModifiedDate:V.boardOrderModifiedAt??Y?.board_order_modified_at??"",layout:ee?"square":void 0,locale:G,metaMarginBottom:z,metaMarginTop:U,metaPaddingY:N,name:V.name??(Y?.name||""),numberOfCollaborators:ed.length,numCols:ep,onFollow:e=>q((0,_.Z)(e,J)),onUnfollow:e=>q((0,_.f)(e,J)),pinCount:B&&eb?eb:void 0,sectionCount:eS??0,sensitivityScreen:ex,showBoardCollaborators:!1!==ea,showFollowButton:j,showTitleOnly:"imageTitle"===Z,slotIndex:L,viewerId:es,viewObjectIdStr:K,viewParameter:D,viewType:O}),ek=V.url||Y?.url;return!b.includes(Z)&&ek?(0,v.jsx)(a.Tg,{dataTestId:"board-rep-tap-area-link",href:H?ek:ek.toLowerCase(),onTap:()=>{if(ev&&J({aux_data:{board_id:V.entityId,board_pin_count:eb,board_section_count:eS},component:t??1,element:36,event_type:102,view_parameter:49===D?eo?3106:3107:D,view_data:{view_object_id_str:K}}),!H){if((0,u.NC)("click_go_to_board"),R)return void W(R);W({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,v.jsx)(a.xu,{ref:w,paddingY:T?0:ee?2:3,children:(0,v.jsx)(S,{isUsingMask:A,setIsHovered:el,children:ew})})}):ew}},223615:function(e,t,l){l.d(t,{Z:()=>c});var i=l(20256),n=l(637117),r=l(525839),a=l(906553),s=l(15667),o=l(785893);let d={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function c({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:l,numberOfCollaborators:c,size:u="xs",showBoardCollaborators:p=!0}){let h=(0,r.ZP)(),{locale:f}=(0,s.B)(),g=(0,a.Z)();return(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",maxHeight:d[u].height,children:[(0,o.jsx)(i.xv,{lineClamp:1,size:d[u].text,children:(0,o.jsx)(n.Z,{text:e})}),(t||l)&&(0,o.jsx)(i.xu,{flex:"none",marginStart:1,children:t?(0,o.jsx)(i.kw,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:d[u].icon}):(0,o.jsx)(i.kw,{accessibilityLabel:h._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:d[u].icon})}),p&&c>0&&(0,o.jsx)(i.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,o.jsx)(i.xv,{size:d[u].text,children:"+ "+g(f,c,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},537005:function(e,t,l){l.d(t,{Z:()=>s}),l(167912);var i,n=l(415546),r=l(975740);let a=(void 0!==i||(i=l(879991)).hash&&"756d8d8edca35eac0a0500359bf60618"!==i.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),s=e=>{let t=(0,n.Z)(a,e),l=(0,r.gC)(),i=t?.entityId?l(t.entityId):null,s=t?.imageCoverUrl??i?.image_cover_url,o=t?.coverImageSpec_216x146??i?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??i?.cover_images?.spec_222x,c=t?.coverImageSpec_400x300??i?.cover_images?.spec_400x300;return e=>{let l=t?.imageCoverHdUrl||t?.imageCoverUrl;if(l)return l;let i=c?.url??d?.url??o?.url??"";return e&&e>2&&i?i:s||""}}},408575:function(e,t,l){l.d(t,{Bw:()=>s,Jx:()=>a,po:()=>i});let i=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),n=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;let t=i(e);return e=>"string"==typeof e?i(e)!==t:i(e.url??"")!==t},a=(e,t,l)=>e?e.filter(r(l)):t?t.filter(r(l)).map(n):[],s=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},300685:function(e,t,l){l.d(t,{Z:()=>S});var i=l(667294),n=l(20256),r=l(592821),a=l(582569),s=l(980787),o=l(364843),d=l(273094),c=l(93966),u=l(351607),p=l(369416),h=l(15667),f=l(341742),g=l(601686),m=l(785893);function _({index:e,length:t,showBadge:l}){return(0,m.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!l,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new n.Ry(1),children:(0,m.jsx)(n.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var y=l(712172),v=l(169053),x=l(74459);let b=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function S(e){let t,{backgroundColor:l="transparent",children:S,componentType:w,containerRef:k,contextLogData:P,disableTransition:C,gap:I=0,height:F,id:E,impressionType:T,index:j,responsiveSizing:A=!1,shouldBeDragCarousel:B,showCarouselBadge:L,styleOverrides:Z,innerCarouselWidthRef:K,slideWidth:D,surface:O,paddingX:R,view:M,viewParameter:U,widthRatio:z=1,setSlideIndex:N,sliderRef:$,showCarouselOverflow:H,isHorizontalScrollable:q}=e,{showBadge:G}=(({index:e})=>{let[t,l]=(0,i.useState)(!0),n=(0,i.useRef)(void 0),r=(0,i.useRef)(void 0);return(0,i.useEffect)(()=>(n.current=setTimeout(()=>{l(!1)},3e3),()=>{clearTimeout(n.current)}),[]),(0,i.useEffect)(()=>{if(!r.current){r.current=e;return}clearTimeout(n.current),l(!0)},[e]),{showBadge:t}})({index:j}),{logContextEvent:W}=(0,s.u)(),V=(0,v.S6)()(E),{isRTL:Q}=(0,h.B)(),Y=(0,i.useRef)(void 0),X=(0,i.useRef)(null),J=(0,i.useRef)(0),ee=(0,i.useRef)(void 0),et=(0,x.Z)(),{peekCloseupEnabled:el,viewportSize:ei}=(0,g.x4)();if((0,f.Z)(()=>{let e=X.current;if(!e)return;$&&e&&($.current=e);let t=()=>{let e=J.current;if(q){let t=new IntersectionObserver(([l])=>{let n=-(l.boundingClientRect.x??0),r=i.Children.toArray(S),a=$?(0,y.yR)($.current,n+et,D,z,I,r.length):0;N?.(a),Math.abs(e-n)>=10&&W({aux_data:{...P},component:w,event_type:"right"==(e<n?"right":"left")?9315:9316,view_type:M,view_parameter:U}),J.current=n,ee.current&&t.unobserve(ee.current)});ee.current&&t.observe(ee.current)}else{let t=-(ee.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&W({aux_data:{...P},component:w,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:M,view_parameter:U}),J.current=t}};return B&&(q&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{B&&(q&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),z>1||z<0)throw Error("widthRatio should be between 0 and 1 inclusive");let en=Math.floor(D*z),er=i.Children.toArray(S),ea=er.length*en,es=k?.clientWidth||ea,{maxHeight:eo,fiftyPercentHeight:ed,fiftyPercentWidth:ec}=(0,r.Re)(),eu=el&&"lg"===ei&&"ShoppingGridSmallCarousel"===O;el&&(t="sm"===ei?ed:eo);let ep=Z?.justifyContent??(es>ea?"center":"start");K&&(K.current="center"===ep?X.current:null);let eh=A||B?void 0:(0,y.CU)({slotWidth:en,gap:I,numberOfSlides:er.length,index:j,containerWidth:es,paddingX:R});return(0,m.jsxs)("div",{className:"BoardMoreIdeasRep"===T?"moreIdeasBoardRepCarousel":"",style:A?{height:"inherit"}:{},children:[(0,m.jsxs)(n.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:A?"inherit":void 0,justifyContent:ep,overflow:eu||H?void 0:"hidden",children:[L&&(0,m.jsx)(_,{index:j,length:er.length,showBadge:G}),"BoardMoreIdeasRep"!==T&&(0,m.jsx)(a.P,{pinKey:null!=V?{type:"deprecated",data:V}:null,children:e=>(0,m.jsx)(d.Z,{carouselData:{...e,type:"canonical"},contextLogData:P,height:F??Y.current?.clientHeight??1,id:E,impressionType:"Pin",index:j,slideWidth:D,view:M??1,viewParameter:U??72},`carousel-impression-key-${j}`)}),B&&(0,m.jsx)(p.Z,{unsafeCSS:b}),(0,m.jsx)("div",{ref:X,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:l,overflowX:B?"scroll":"visible",paddingLeft:B?`${c.yt}px`:void 0,paddingRight:B?`${c.yt}px`:void 0,display:"flex",flexDirection:Z?.flexDirection??"row",height:A?"inherit":void 0,marginLeft:R?`${R}px`:void 0,marginRight:R?`${R}px`:void 0,position:"relative",scrollbarWidth:0,transition:B||C?void 0:Q?"right .5s":"left .5s",right:Q?eh:void 0,left:Q?void 0:eh,width:A?"100%":void 0},children:er.map((e,l)=>{let i=l===er.length-1,a=Math.ceil(I/4),s=0;a>=-12&&a<=12&&(s=a);let o=(0,m.jsx)(n.xu,{ref:e=>{Y.current=e,0===l&&(ee.current=e)},"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${l}`,display:l!==j&&A?"none":"block",height:A?"100%":F??void 0,marginEnd:i?0:s,maxHeight:t,maxWidth:eu?`calc(${r.LV}px - ${r.Gd}px * 2)`:ec,width:A?"100%":en,children:e},`carousel-slot-${E}-${l}`);if("BoardMoreIdeasRep"===T){let t=e.props,i={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,m.jsx)(u.Fw,{componentType:w,contextLogData:i,impressionAuxFields:i,impressionType:"BoardMoreIdeasRep",loggingId:E,slotIndex:l,viewParameter:U??72,viewType:M??1,children:({impressionTrackerRef:e})=>(0,m.jsx)(n.xu,{ref:e,children:o})},`carousel-slot-${E}-${l}`)}return o})})]}),14114===w&&(0,m.jsx)(o.Qp,{anchor:ee.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},828942:function(e,t,l){l.d(t,{Z:()=>s});var i=l(667294),n=l(20256),r=l(525839),a=l(785893);let s=({iconType:e,showFab:t,moduleHovered:l,opacity:s=.8})=>{let o=(0,r.ZP)(),[d,c]=(0,i.useState)(!1),u=l??d;return(0,a.jsx)(n.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:u?1:u===l?0:s,children:(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!t,children:(0,a.jsx)(n.hU,{accessibilityLabel:"forward"===e?o._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):o._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===e?"arrow-forward":"arrow-back",size:"md"})})})}},712172:function(e,t,l){l.d(t,{CU:()=>n,GH:()=>s,Iw:()=>a,c3:()=>u,gA:()=>o,tD:()=>r,vF:()=>d,yR:()=>c});let i=({containerWidth:e,contentWidth:t,index:l,slotAndGapWidth:n})=>{let r=l-1,a=r*n;return t-a>=e?a:i({index:r,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},n=({containerWidth:e,gap:t,index:l,numberOfSlides:n,slotWidth:r,paddingX:a})=>{let s=r+t,o=s*n,d=a?e-a:e;if(o<=d)return 0;let c=d/s,u=(({index:e,numberOfSlides:t,slidesShownPerPosition:l})=>t-e-Math.floor(l)<1)({index:l,numberOfSlides:n,slidesShownPerPosition:c})?(({containerWidth:e,contentWidth:t,gap:l,index:n,slidesShownPerPosition:r,slotAndGapWidth:a,paddingX:s=0})=>i({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:a})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:r,slotAndGapWidth:a})-l+s)({containerWidth:d,contentWidth:o,gap:t,index:l,slidesShownPerPosition:c,slotAndGapWidth:s,paddingX:a}):l*s;return u?Math.round(-u):0},r=({containerWidth:e,gap:t,index:l,numberOfSlides:i,slotWidth:r,isHorizontalScrollable:a,paddingX:s,rows:o=1})=>{let d=i/o*r+t*(i-1),c=s?e-s:e;return 0!==e&&(d<=c||(a?d<=c:Math.abs(n({containerWidth:e,gap:t,index:l,numberOfSlides:i,slotWidth:r,paddingX:s}))+t>=d-c))},a=({containerWidth:e,currentIndex:t,gap:l,index:i,numberOfSlides:r,slotWidth:a,paddingX:s})=>{let o=a+l,d=s?e-s:e;if(o*r<=d||0===e)return!0;let c=n({containerWidth:e,gap:l,index:t,numberOfSlides:r,slotWidth:a,paddingX:s}),u=s?d+o+s:e+o;return c+o*i<u},s=(e,t,l)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${l}`,o=({highResOnly:e,slot:t})=>{let{images:l}=t;return e?`${l?.["564x"]?.url??""} 1x`:[l?.["474x"]&&`${l["474x"].url??""} 2x`,l?.["736x"]&&`${l["736x"].url??""} 3x`,l?.orig&&`${l.orig.url??""} 4x`].filter(Boolean).join(", ")},d=(e,t,l,i,n=0,r)=>{let a=r?l-r:l;if(a===t)return-(i*t*1)+(r||0);let s=Math.floor(a-t),o=t+n;return i===e-1?-1*i*o+s+(r||0):-1*i*o+(r||0)},c=(e,t,l,i,n,r,a)=>{if(!e||t<=0)return 0;let s=Math.floor(l*i),o=e?.clientWidth||r*s;return Math.round(((a?t-a:t)+(a?o-a:o)-s/2)/(s+n))-1},u=(e,t,l,i,n,r)=>{e.current&&t&&e.current.scrollBy({left:(l-i)*(n+r),behavior:"smooth"})}},280670:function(e,t,l){l.d(t,{O:()=>c,Z:()=>u});var i=l(667294),n=l(20256),r=l(525839),a=l(694955),s=l(785893);let o=(0,i.lazy)(()=>l.e("28168").then(l.bind(l,494818))),d={xs:12,sm:16,md:20,lg:24};function c({children:e}){let t=(0,r.ZP)();return(0,s.jsx)(n.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(n.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:l,showText:a,size:u,inspirationalBadges:p,inspirationalBadgesColor:h}){let f=(0,r.ZP)(),[g,m]=(0,i.useState)(!1),_=(0,s.jsxs)(n.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(n.iP,{onTap:()=>m(!0),children:(0,s.jsx)(n.JO,{accessibilityLabel:f._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:d[u]})}),a&&(0,s.jsx)(n.xu,{marginStart:2,children:(0,s.jsx)(n.xv,{color:"shopping",inline:!0,weight:"bold",children:f._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[l&&!e&&(0,s.jsx)(c,{children:_}),l&&e&&_,t&&!l&&(0,s.jsx)(n.JO,{accessibilityLabel:f._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:d[u]}),!t&&!e&&l&&g&&(0,s.jsx)(i.Suspense,{children:(0,s.jsx)(o,{inspirationalBadges:p,inspirationalBadgesColor:h,setShowModal:m,showModal:g})})]})}},620438:function(e,t,l){l.d(t,{w:()=>A,$:()=>j});var i=l(729434),n=l(667294),r=l(616550),a=l(660341),s=l(35794),o=l(980787),d=l(821342),c=l(816358),u=l(765533),p=l(506662),h=l(274320),f=l(15667),g=l(490186),m=l(970979),_=l(732753),y=l(940280),v=l(478135),x=l(378888),b=l(104659),S=l(525663),w=l(256136),k=l(925463),P=l(452094),C=l(879237),I=l(374874),F=l(77155),E=l(785893);let{Provider:T,get:j}=(0,i.Z)("SearchBoxHandlers");function A({children:e,handleIconOnlyChange:t,iconOnly:l,widthType:i,isPartner:j}){let A=function({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:l=!1,widthType:i="md"}){let{logContextEvent:E}=(0,o.u)(),{country:T,language:j,isRTL:A}=(0,f.B)(),B=(0,d.Z)(),L=(0,r.k6)(),Z=(0,r.TH)(),{path:K}=(0,r.$B)(),{checkExperiment:D}=(0,h.r)(),[,O]=(0,n.useTransition)(),{isLensModalOpen:R}=(0,s.m)(),M=B.isAuth&&D("web_lens").anyEnabled,{auxData:U}=(0,F.Z)({skipResourceCall:!(0,p.En)(Z)}),z=U?.metadata?.unity_search_query,{query:N,scope:$,rs:H}=(0,m.Z)(Z),q=D("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&z||(0,x.mB)(Z.search).entered_query,G=(a.t.includes(H)?"":q||N)??"",[W,V]=(0,n.useState)(G),[Q,Y]=(0,n.useState)(),X=Q?(0,w.Lq)(Q):W,J=(0,w.WY)(),ee=$??v.lw.PINS;J&&(ee=v.lw.PINS_MINE),ee===v.lw.PINS_BUYABLE&&(ee=v.lw.PINS);let[et,el]=(0,n.useState)(ee),ei=B.isAuth&&et===v.lw.PINS_MINE,en=+!!ei;(0,w.hb)(en);let[er,ea]=(0,n.useState)([]),[es,eo]=(0,n.useState)(),[ed,ec]=(0,n.useState)(!1),[eu,ep]=(0,n.useState)(!1),[eh,ef]=(0,n.useState)(!1),[eg,em]=(0,n.useState)(!1),e_=eu||eg,[ey,ev]=(0,n.useState)(!1),[ex,eb]=(0,n.useState)(0),[eS,ew]=(0,n.useState)(""),[ek,eP]=(0,n.useState)(0),[eC,eI]=(0,n.useState)(""),[eF,eE]=(0,n.useState)("");(0,n.useEffect)(()=>{if(e_&&!eg&&W.trim().length>0&&ek===W.length){if(eS&&eS.startsWith(W))return;else if(er&&er.length>0&&!eC){let e=er[0]?.items.find(e=>["recent_pin_searches","query"].includes(e.type));if(e&&e.query.startsWith(W)){let{group:t,anyEnabled:l}=D("dweb_search_autocomplete_inline_suggestions");if(l&&e.show_inline_query&&function({expGroup:e,enteredQuery:t}){if(e.includes("char")){let l=e.split("_").find(e=>e.includes("char")),i=Number(l?.split("char")[0]||"");if(t.length<i)return!1}if(e.includes("word")){let l=e.split("_").find(e=>e.includes("word")),i=Number(l?.split("word")[0]||"");if(!t.endsWith(" ")||t.split(" ").filter(e=>!!e).length<i)return!1}return!0}({expGroup:t,enteredQuery:W})){ew(e.query),eI(e.query);return}}}}ew("")},[W,er,D,e_,ek,eS,eg,eC]);let eT=(0,P.Z)()&&"US"===T&&j.startsWith("en")&&(B.isAuth?D("web_voice_search").anyEnabled:D("web_voice_search_unauth").anyEnabled),[ej,eA]=(0,n.useState)(C.K.NULL);function eB(){eo(void 0),Y(void 0)}let{setAppFocusState:eL,toggleTypeaheadOverlay:eZ}=(0,b.G)(),eK=(0,k.Z)(en),eD=(0,I.Z)(),[eO,eR]=(0,n.useState)(t);(0,n.useEffect)(()=>{eR(t)},[t]);let[eM,eU]=(0,n.useState)(!1),[ez,eN]=(0,n.useState)();(0,w.sy)({setShouldHideGhostText:eU,setSuggestionsMaxHeight:eN,isSyop:ei});let e$=B.isAuth&&"shrink"!==i&&(G||J),eH=["shrink","auto"].includes(i)?"8px":0;e$&&(eH="4px");let[eq,eG,eW]=(0,w.PN)({shouldHideGhostText:eM,isSyop:ei,inputFocused:eu,voiceSearchPlaceholder:ej}),eV=(0,n.useRef)(void 0);function eQ(){eb(Date.now()),ep(!0)}function eY(e){V(e),eB()}function eX({index:e,isKeyDown:t,suggestion:l,suggestionStoryId:i}){let n=t?97:101,r=(0,w.yQ)({index:e,suggestion:l,enteredQuery:W,additionalAuxData:{user_id:"user"===l.type?l.id:void 0}});switch(l.type){case"recent_pin_searches":case"recent_query":case"query":if(l.query===G)break;E({event_type:n,view_type:S.Ie,view_parameter:"recent_query"===l.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(l.type)?253:104,aux_data:r,object_id_str:l.id});let a=(0,w.Ek)({suggestion:l,query:W,lastFocusTime:ex,inlineSuggestion:eF});ei&&"recent_query"===l.type&&(a=a.replace("pins","my_pins")),eD(a),L.push(a);break;case"recent_save":L.push(l.url);break;case"explorearticle":let s=26===l.story_category?13865:200;E({event_type:101,view_type:S.Ie,view_parameter:3467,component:s,aux_data:r});let o=(0,w.Ek)({suggestion:l,query:"",suggestionStoryId:i});eD(o),L.push(o);break;case"todayarticle":E({event_type:101,view_type:S.Ie,view_parameter:3467,component:200,aux_data:r}),L.push((0,w.Ek)({suggestion:l,query:""}));break;case"board":case"user":E({event_type:n,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:r,object_id_str:l.id}),eD(l.url),L.push(l.url)}eB(),ep(!1),em(!1)}(0,n.useEffect)(()=>{eV.current!==e_&&O(()=>{e_?c.Z.pause():c.Z.resume(),eL(!e_),e_||(eB(),V(G)),eZ(e_),eV.current=e_})},[G,e_,eL,eZ]),(0,n.useEffect)(()=>{V(G),el(ee),G||eK(),ep(!1),em(!1)},[G,ee,eK]),(0,n.useEffect)(()=>{W||eK()},[W,eK]);let eJ=()=>{if(X===G&&et===ee)return;let e=(0,_.Z)(X);if(!e.length)return;let t=(0,g.Z)({query:e,rs:y.i.TYPED??"",scope:et,inlineSuggestion:eF});eD(t),ep(!1),em(!1),L.push(t)};return{allowLens:M,allowVoiceSearch:eT,appliedQuery:G,autocompleteRequestSurface:en,delayedSearchBoxOpen:function(){setTimeout(eQ,500)},displayedQuery:X,endPadding:eH,enteredQuery:W,enteredScope:et,getSuggestionImpressionOptions:function({additionalAuxData:e,index:t,groupIndex:l,suggestion:i,loggingId:n}){let r=S.Ie,a=(0,w.yQ)({index:t,suggestion:i,enteredQuery:W,additionalAuxData:e});switch(i.type){case"query":case"user":return{viewType:r,componentType:35,elementType:104,viewParameter:103,loggingId:n,objectIdStr:n,contextLogData:a,impressionType:"Search",slotIndex:l};case"recent_pin_searches":return{viewType:r,componentType:35,elementType:253,viewParameter:103,loggingId:n,objectIdStr:n,contextLogData:a,impressionType:"Search",slotIndex:l};case"recent_query":return{viewType:r,componentType:35,elementType:253,viewParameter:3467,loggingId:n,objectIdStr:n,contextLogData:a,impressionType:"Search",slotIndex:l};case"explorearticle":case"todayarticle":return{contextLogData:a,impressionType:"Article",loggingId:n,objectIdStr:n,slotIndex:t,viewParameter:3467,viewType:r};case"story":return{componentType:200,contextLogData:a,impressionType:"Story",loggingId:n,objectIdStr:n,slotIndex:l,viewParameter:3467,viewType:r};default:return null}},handleClearSearch:function(){if(D("dweb_search_clear_search").anyEnabled){V(""),eB(),eQ(),ej===C.K.LISTENING&&eA(C.K.CANCEL);return}V(""),el(v.lw.PINS),eB(),eA(C.K.CANCEL),B.isAuth&&G?L.push("/"):l&&e&&e(!0)},handleInclusiveProductFilterClick:function(e,t,l){let i={};W&&(i.entered_query=W),E({event_type:101,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...i}});let n=(0,w.Ek)({suggestion:e,query:W,lastFocusTime:ex,filterSelectedTerm:l});eD(n),em(!1),L.push(n)},handleInputBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||(ep(!1),eI(""))},0)},handleInputChange:e=>{eP(e.currentTarget?.selectionStart||0),eY(e.target.value)},handleInputClick:e=>{E({event_type:101,component:43,element:227}),eP(e.currentTarget?.selectionStart||0)},handleInputFocus:e=>{eP(e.currentTarget?.selectionStart||0),eQ()},handleKeyDown:e=>{switch(e.keyCode){case u.Z.ENTER:{let t=(0,w.Cx)(er,es);e_&&t&&e.preventDefault(),t&&ed?(eX({index:t.resultIndex||0,isKeyDown:!0,suggestion:t}),ec(!1)):eJ();break}case u.Z.ESCAPE:e_&&e.preventDefault(),e.stopPropagation(),ep(!1),em(!1);break;case u.Z.UP:e_&&e.preventDefault();let[t,l]=(0,w.VE)(er,es);eo(t),ec(!0),Y(l);break;case u.Z.DOWN:{e_&&e.preventDefault();let[t,l]=(0,w.VE)(er,es,!0);eo(t),ec(!0),Y(l);break}case u.Z.RIGHT:!A&&eS&&(e.preventDefault(),e.stopPropagation(),V(eS),eE(eS));break;case u.Z.LEFT:A&&eS&&(e.preventDefault(),e.stopPropagation(),V(eS),eE(eS));break;case u.Z.TAB:eG&&!W&&e_?(e.preventDefault(),e.stopPropagation(),V(eG)):eS&&(e.preventDefault(),e.stopPropagation(),V(eS),eE(eS))}},handleKeyUp:e=>{eP(e.currentTarget?.selectionStart||0)},handleScopeChange:function(e){el(e),ep(l&&!W),eB()},handleSearchIconButtonClick:()=>{ep(!0),l&&E({event_type:101,element:11809})},handleSuggestionSelect:eX,handleSyopCtaClick:function(){let e=(0,_.Z)(W);if(!e.length)return;let t=(0,g.Z)({query:e,rs:y.i.AC,scope:v.lw.PINS_MINE});eD(t),L.push(t)},handleTextChange:eY,handleTypedSearchSubmit:eJ,handleVoiceSearchSubmit:e=>((e,t)=>{let l=(0,g.Z)({query:e,rs:t,scope:et});eD(l),ep(!1),em(!1),L.push(l)})(e,y.i.VOICE_SEARCH),handleFeaturedBoardSubmit:()=>{eB(),ep(!1),em(!1)},inlineACSuggestion:eS,inputFocused:eu,isContentTypeFilterHovered:ey,isCurrentlyOnLensPage:"/lens-search"===K,isInTypeaheadSession:e_,isLensModalOpen:R,isSyop:ei,searchBoxHovered:eh,searchBoxPlaceholder:eq,setContentTypeFilterHovered:ev,setSearchBoxHovered:ef,setVoiceSearchPlaceholder:eA,setSuggestionsFocusIndex:eo,setSuggestionsHovered:em,showContentTypeFilter:e$,showIconOnly:eO,voiceSearchPlaceholder:ej,suggestedSearchTerms:eW,suggestionGroups:er,suggestionsFocusIndex:es,suggestionsMaxHeight:ez,updateSuggestionGroups:ea}}({handleIconOnlyChange:t,iconOnly:l,widthType:i,isPartner:j});return(0,E.jsx)(T,{value:A,children:e})}},144380:function(e,t,l){l.d(t,{Z:()=>w});var i,n=l(667294),r=l(167912),a=l(20256),s=l(525839),o=l(15667),d=l(647709),c=l(222401),u=l(300685),p=l(458684),h=l(828942),f=l(712172),g=l(681777),m=l(301856),_=l(785893);let y=(void 0!==i||(i=l(173248)).hash&&"3ca45565a804bd5428a8509aa83434c3"!==i.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),v=({board:e,isLastBoard:t,handleFeaturedBoardSubmit:l})=>{let i=(0,d.HG)();return e?(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:t?i?"36px":"16px":void 0}},marginBottom:2,paddingX:+!i,role:"option",width:t?i?268:216:i?236:200,children:(0,_.jsx)(a.iP,{onTap:()=>l?l():void 0,children:(0,_.jsx)(c.default,{boardKey:"__fragments"in e?e:{type:"deprecated",data:e},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},x={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:1},b=({handleFeaturedBoardSubmit:e})=>{let t=(0,s.ZP)(),l=(0,d.HG)(),i=(0,d.ml)(),r=(0,g.Sm)(),o=(0,n.useRef)(null),c=(0,n.useRef)(null),[y,b]=(0,n.useState)(0),[S,w]=(0,n.useState)("0px"),[k,P]=(0,n.useState)([]),C=o?.current?.clientWidth??0;(0,n.useEffect)(()=>{r.data&&r.data.filter(e=>"board"===e.type).length<g.yN&&r.fetchMore()},[r]),(0,n.useEffect)(()=>{r.data&&P(r.data.filter(e=>"board"===e.type).slice(0,g.yN))},[r]);let I=(0,g.eK)(t);if((0,n.useEffect)(()=>{k&&y===k.length-1?w("-80px"):w("0px")},[y,k]),!r.data||r.error)return null;let F=(0,f.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:C,gap:16,numberOfSlides:k.length,index:y});return(0,_.jsxs)(a.kC,{direction:"column",children:[(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,_.jsx)(m.Z,{headerMarginTopOverride:i?6:3,sectionHeader:I,smallHeader:!0})}),(0,_.jsx)(a.xu,{children:l?(0,_.jsxs)(a.xu,{ref:o,display:"flex",marginBottom:l?4:6,paddingX:3*!!i,position:"relative",children:[(0,_.jsx)(p.default,{backNode:(0,_.jsx)(h.Z,{...x,iconType:"back"}),carouselData:{index:y,entityId:"",carouselSlots:k.map(e=>({id:e.entityId,title:null}))},carouselIndex:y,forwardNode:(0,_.jsx)(h.Z,{...x,iconType:"forward"}),handleCarouselSwipe:e=>{b(e),c.current&&(0,f.c3)(c,!0,e,y,236,16)},isShowingLastSlide:F,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:S,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,_.jsx)(u.Z,{containerRef:o.current,gap:6,id:"featured-boards",index:y,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:b,showCarouselOverflow:!0,sliderRef:c,slideWidth:236,children:k.map((t,l)=>(0,_.jsx)(v,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:r.data.filter(e=>"board"===e.type).slice(0,g.yN).map((e,t)=>e&&(0,_.jsx)(v,{board:e,isLastBoard:t===g.yN-1},`board--${t}`))})})]})},S=({handleFeaturedBoardSubmit:e})=>{let t=(0,s.ZP)(),l=(0,d.HG)(),i=(0,d.ml)(),o=(0,n.useRef)(null),c=(0,n.useRef)(null),[b,S]=(0,n.useState)(0),[w,k]=(0,n.useState)("0px"),P=o?.current?.clientWidth??0,C=(0,r.useLazyLoadQuery)(y,{}),I=C.v3RootPageFeaturedBoardsQuery?.__typename==="V3RootPageFeaturedBoards"?C.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,n.useEffect)(()=>{I&&b===I.length-1?k("-80px"):k("0px")},[b,I]),C.v3RootPageFeaturedBoardsQuery?.error?.message||!I)return null;let F=(0,g.eK)(t),E=(0,f.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:P,gap:16,numberOfSlides:I.length,index:b});return(0,_.jsxs)(a.kC,{direction:"column",children:[(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,_.jsx)(m.Z,{headerMarginTopOverride:i?6:3,sectionHeader:F,smallHeader:!0})}),(0,_.jsx)(a.xu,{children:l?(0,_.jsxs)(a.xu,{ref:o,display:"flex",marginBottom:l?4:6,paddingX:3*!!i,position:"relative",children:[(0,_.jsx)(p.default,{backNode:(0,_.jsx)(h.Z,{...x,iconType:"back"}),carouselData:{index:b,entityId:"",carouselSlots:I.map(e=>({id:e.entityId,title:null}))},carouselIndex:b,forwardNode:(0,_.jsx)(h.Z,{...x,iconType:"forward"}),handleCarouselSwipe:e=>{S(e),c.current&&(0,f.c3)(c,!0,e,b,236,16)},isShowingLastSlide:E,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:w,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,_.jsx)(u.Z,{containerRef:o.current,gap:6,id:"featured-boards",index:b,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:S,showCarouselOverflow:!0,sliderRef:c,slideWidth:236,children:I.map((t,l)=>(0,_.jsx)(v,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:I.slice(0,g.yN).map((e,t)=>e&&(0,_.jsx)(v,{board:e,isLastBoard:t===g.yN-1},`board--${t}`))})})]})};function w({handleFeaturedBoardSubmit:e}){let{country:t}=(0,o.B)();return(0,g.CE)(t)?(0,_.jsx)(S,{handleFeaturedBoardSubmit:e}):(0,_.jsx)(b,{handleFeaturedBoardSubmit:e})}},525663:function(e,t,l){l.d(t,{Ag:()=>k,Fb:()=>o,Fj:()=>x,Gh:()=>T,H2:()=>E,Ie:()=>j,Ip:()=>f,Lo:()=>a,Ny:()=>C,P$:()=>b,R1:()=>c,TD:()=>I,UE:()=>S,Ub:()=>P,Vv:()=>s,XG:()=>p,XI:()=>n,Xh:()=>u,YO:()=>F,a3:()=>y,e:()=>d,ht:()=>m,ji:()=>h,le:()=>v,r5:()=>r,sA:()=>_,v6:()=>g,yY:()=>w});var i=l(93966);let n=48,r=8,a=4,s=3.9,o=2.6,d=36,c=60,u=.75*i.yF,p=1.5*i.yF,h=1.5*i.yF,f=2*i.yF,g="searchBoxContainer",m={md:407,sm:332,auto:"auto"},_=7,y=["pin.description","pin.id","pin.images[236x]"],v=360,x=76,b=5,S=10,w=7.5,k=40,P=24,C=192,I=7,F=116,E={__style:{backgroundColor:"rgba(0,0,0, .4)"}},T=90,j=2},256136:function(e,t,l){l.d(t,{Cx:()=>I,Ek:()=>b,Gp:()=>P,Lq:()=>k,PN:()=>j,VE:()=>F,WY:()=>E,YO:()=>L,cW:()=>C,hb:()=>B,kj:()=>S,sy:()=>T,vS:()=>Z,yQ:()=>w,zj:()=>A});var i=l(825332),n=l(512712),r=l(821342),a=l(93966),s=l(525839),o=l(15667),d=l(662641),c=l(886981),u=l(256310),p=l(390957),h=l(732753),f=l(478135),g=l(669442),m=l(510928),_=l(341742),y=l(525663),v=l(484649),x=l(879237);function b({suggestion:e,query:t,lastFocusTime:l=0,filterSelectedTerm:i,suggestionStoryId:r,inlineSuggestion:a}){if("explorearticle"===e.type){let{aux_fields:t,id:l,query:i,story_category:n}=e;return e.action?.url??(0,p.Z)({bubbleId:l,pinId:t?.image_pin_id,query:i,referringSource:2===n?"trending":"autocomplete_bubble",storyCategory:n,storyId:r})}if("todayarticle"===e.type){let{id:t,title:l}=e;return(0,n.x)({title:l,id:t,articleType:"today"})}let s={eq:(0,h.Z)(t)};return l&&(s.etslf=String(Date.now()-l)),i&&(s.filters=i),a&&(s.inline_suggestion=a),(0,g.Z)("url"in e&&e.url?e.url:"",s)}function S(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function w({enteredQuery:e,suggestion:t,index:l,additionalAuxData:i={}}){let n={...i,entered_query:e||void 0,selected_query:t.query||t.label||void 0,autocomplete_type:S(t.type)};switch(t.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return{...n,result_index:l,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id};case"explorearticle":return 26===t.story_category?{...n,article_id:t.id,story_id:t.storyId,story_type:"shopping_spotlight"}:{...n,autocomplete_type:2===t.story_category?"trending":"recommended",result_index:l};case"todayarticle":return{...n,article_id:t.id,story_type:"shopping_spotlight"};default:return{}}}function k(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function P(e,t){return`SuggestionGroup-Option-${e}-${t}`}let C=e=>{let t=0;return e.map(e=>{let l=t;return t+=(e.items??[]).length??0,l})},I=(e,t)=>{if(null==t)return;let l=C(e);for(let i=0;i<l.length;i+=1)if(e[i].items.length&&t-l[i]<e[i].items.length)return e[i].items[t-l[i]];return null};function F(e,t,l){let i=e.map(e=>e.items.length??0).reduce((e,t)=>e+t,0),n=l?null==t?0:t===i-1?void 0:t+1:null==t?i-1:0===t?void 0:t-1,r=I(e,n);return[n,r]}function E(){let e=(0,i.TH)(),t=(0,r.Z)(),{ideas_referrer:l,view_parameter_type:n}=(0,m.Z)(e.search);l=parseInt(l,10),n=parseInt(n,10);let a=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),s=t.isAuth&&e.pathname.startsWith("/recently-viewed"),o=3173===n&&(1===l||25===l);return(a||s)&&!o}function T({setShouldHideGhostText:e,setSuggestionsMaxHeight:t,isSyop:l}){let i=(0,v.Z)({isSyop:l}).anyEnabled;function n(){let l=document.getElementById(y.v6)?.offsetWidth||0,n=i?window.innerHeight/4:0;e(l<=y.le),t(window.innerHeight-14-y.Fj-n)}(0,_.Z)(()=>(window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)}))}function j({shouldHideGhostText:e,isSyop:t,inputFocused:l,voiceSearchPlaceholder:i}){let n=(0,s.ZP)(),{isAuth:a}=(0,r.Z)(),o=(0,c.Z)(a?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),d=a?n._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):n._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),p="";if(i)d=i===x.K.LISTENING?n._('Listening...', 'searchBox.placeholder.search', 'default placeholder text for search box'):n._('Didn\'t get that! Try again', 'searchBox.placeholder.search', 'default placeholder text for search box');else if(!e&&o.isLoaded&&o.data&&o.data.length>0){let e=o.data[0].text;p=o.data[0].query,d=e}return t&&(d=l?n._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):n._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[d,p,(0,u.Z)()]}function A({suggestionsFocusIndex:e,suggestionGroups:t}){let l,i,n=C(t);if("number"==typeof e){for(let t=n.length-1;t>=0;t-=1)if(e>=n[t]){l=t,i=e-n[t];break}}return"number"==typeof l&&"number"==typeof i?P(l,i):""}function B(e){let t=(0,r.Z)(),{isBot:l}=(0,o.B)(),{isAuth:i,isLimitedLogin:n}=t,a=(0,d.Z)()();(0,c.Z)(!a&&i?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:f.lw.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,c.Z)(a||l?null:{name:"SearchTabResource"}),(0,c.Z)(i&&!n?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:y.a3.join(","),pin_preview_count:y.sA}}}:null)}function L({pillLabels:e,maxWidth:t}){let l=e.length;if(!t)return l;let i=0;for(let n=0;n<e.length;n+=1){let r=e[n];if(!r)continue;let a=r.length*y.yY+y.Ag+y.Ub;if(a+i<t)i+=a;else{l=n;break}}return l}function Z({repType:e,prototypeSLP:t,containerWidth:l}){let i,n=4,r=e=>l?(l-(4*y.r5*2+8*(e-1)))/e:a.yF;for(i=r(4);i<(t?y.ji:y.Xh)&&n>1;)n-=1,i=r(n);for(;i>(t?y.Ip:y.XG);)n+=1,i=r(n);let s=t&&y.Vv||y.Fb;t&&"trending"===e&&(s+=.8);let o=Math.max(t&&"recentSearch"===e?y.e:y.R1,i/s);return{width:i,height:o}}},484649:function(e,t,l){l.d(t,{Z:()=>n});var i=l(274320);function n({isSyop:e}){let{checkExperiment:t}=(0,i.r)();return e?{anyEnabled:!1,group:""}:t("web_search_autocomplete_empty_state")}},925463:function(e,t,l){l.d(t,{Z:()=>a});var i=l(667294),n=l(581722),r=l(536652);function a(e){let t=(0,n.I0)();return(0,i.useMemo)(()=>()=>{t((0,r.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))},[t,e])}},288910:function(e,t,l){l.d(t,{n:()=>u,v:()=>p});var i=l(667294),n=l(616550),r=l(729434),a=l(478135),s=l(647709),o=l(601811),d=l(785893);let{Provider:c,get:u}=(0,r.Z)("SearchParams"),p=({children:e,value:t})=>{let l=function(){let e=(0,s.HG)(),{search:t,pathname:l}=(0,n.TH)(),{scope:i}=(0,n.UO)(),r=!i&&l.includes("/_tools/shop");return(0,o.Z)({isDesktop:e,scope:r?a.lw.SHOP_TOOL:i,search:t})}(),r=(0,i.useMemo)(()=>({...l,...t}),[l,t]);return(0,d.jsx)(c,{value:r,children:e})}},463515:function(e,t,l){l.d(t,{Z:()=>n});var i=l(78187);function n(e){let t=e?.modified_filter_eligibility;return t?"hair_pattern"in t?i.ti.HAIR:"skin_tone"in t?i.ti.SKIN:null:null}},452094:function(e,t,l){l.d(t,{Z:()=>i});function i(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}},879237:function(e,t,l){l.d(t,{K:()=>i});let i={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},78187:function(e,t,l){l.d(t,{CT:()=>i,HE:()=>n,Mq:()=>r,ti:()=>a});let i={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},n={CLOSEUP:"closeup"},r={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},631897:function(e,t,l){l.d(t,{Z:()=>a});var i=l(316949),n=l(672061),r=l(712064);function a({appliedUnifiedFilters:e,autoCorrectionDisabled:t,bubbleId:l,currentlyAppliedFiltersParamTerm:a,guidedSearchQuery:s,inGlobalSearch:o,initialCategory:d,initialDomains:c,initialMaxPrice:u,initialMinPrice:p,isDuplo:h,journeyDepth:f,personalizationPinSig:g,query:m,requestParams:_,rs:y,scope:v,search:x,selectedOneBarModules:b,sourceId:S,sourceModuleId:w,sourceUrl:k,topPinIds:P,user:C}){let I,F=b?.split(",");if(o)I=(0,r.Ht)({autoCorrectionDisabled:t,filters:a,journeyDepth:f,query:m,requestParams:_,scope:v,selectedOneBarModules:F,selectedPinImgSig:g,sourceId:S,sourceModuleId:w,sourceUrl:k,topPinIds:P});else{let o={autoCorrectionDisabled:t,bubbleId:l,filters:a,guidedSearchQuery:s,journeyDepth:f,query:m,requestParams:_,rs:y,scope:v,selectedOneBarModules:F,selectedPinImgSig:g,sourceId:S,sourceModuleId:w,sourceUrl:k,topPinIds:P,user:C};e&&(o.appliedUnifiedFilters=e),o.appliedProductFilters=(0,i.Z)({category:d,domains:c,maxPrice:u,minPrice:p}),h&&(o.domains=c,o.priceMax=u?parseInt(u,10):void 0,o.priceMin=p?parseInt(p,10):void 0,o.topPinIds=(0,n.Z)(x,v)),I=(0,r.Ht)(o)}return I}},601811:function(e,t,l){l.d(t,{Z:()=>r});var i=l(478135),n=l(378888);function r({isDesktop:e,scope:t,search:l}){let{auto_correction_disabled:r="",b_id:a,brands:s,category:o,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:h,filters:f,guided_search_query:g,inline_suggestion:m,interest_id:_,journey_depth:y,on_sale:v,price_max:x,price_min:b,q:S,query_pin_sigs:w,request_params:k,rs:P,selected_one_bar_modules:C,source_id:I,source_module_id:F,tab:E,top_pin_ids:T,user:j}=(0,n.mB)(l),A="true"===c.toLowerCase()&&"shop_tool"!==t?i.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===r.toLowerCase(),brands:s,bubbleId:a,category:o,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:f,debD:p,domains:h,guidedSearchQuery:g,inlineSuggestion:m,interestId:_,journeyDepth:y?parseInt(y,10):void 0,onSale:v,personalizationPinSig:w,placementId:(0,i.Hd)(A,e),priceMax:x,priceMin:b,query:S,requestParams:k,rs:P,scope:A,selectedOneBarModules:C,sourceId:I,sourceModuleId:F,tab:E||"",topPinIds:T,user:j,viewParameter:(0,i._R)(A),viewType:A===i.lw.SHOP_TOOL?1:2}}},374874:function(e,t,l){l.d(t,{Z:()=>d});var i=l(667294),n=l(581722),r=l(440568),a=l(536652),s=l(631897),o=l(601811);function d(){let e=(0,n.I0)(),t=(0,i.useRef)(void 0);return l=>{l&&function({appliedUnifiedFilters:e,dispatch:t,optionsKeyRef:l,isAuthenticated:i=!0,isDesktop:n=!0,url:d}){let c=new URL(d.startsWith("http")?d:`${window.location.origin}${d}`),u=c.pathname.split("/");if(4!==u.length||"search"!==u[1])return;let{search:p}=c,h=u[2],f=(0,o.Z)({isDesktop:n,scope:h,search:p}),{category:g,domains:m,priceMax:_,priceMin:y}=f,v=(0,s.Z)({...f,appliedUnifiedFilters:e,initialCategory:g,initialDomains:m,initialMaxPrice:_,initialMinPrice:y,isDuplo:!i||!n,search:p,sourceUrl:d}),x=(0,r.Z)(v);l.current!==x&&(l.current=x,t((0,a.U)(v.name,{options:v.options},null)))}({dispatch:e,optionsKeyRef:t,url:l})}}},77155:function(e,t,l){l.d(t,{Z:()=>p});var i=l(825332),n=l(239988),r=l(274320),a=l(15667),s=l(886981),o=l(478135),d=l(647709),c=l(288910),u=l(631897);function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:l}=(0,r.r)(),{isAuthenticated:p}=(0,a.B)(),{pathname:h,search:f}=(0,i.TH)(),g=(0,d.HG)(),m=!p||!g,{autoCorrectionDisabled:_,bubbleId:y,category:v,currentlyAppliedFiltersParamTerm:x,domains:b,guidedSearchQuery:S,inGlobalSearch:w,journeyDepth:k,personalizationPinSig:P,priceMax:C,priceMin:I,query:F,requestParams:E,rs:T,scope:j,selectedOneBarModules:A,sourceId:B,sourceModuleId:L,topPinIds:Z,user:K}=(0,c.n)(),D=(0,n.Z)(),O=(0,u.Z)({appliedUnifiedFilters:D,autoCorrectionDisabled:_,bubbleId:y,currentlyAppliedFiltersParamTerm:x,guidedSearchQuery:S,inGlobalSearch:w,initialCategory:v,initialDomains:b,initialMaxPrice:C,initialMinPrice:I,isDuplo:m,journeyDepth:k,personalizationPinSig:P,query:F,requestParams:E,rs:T,scope:j,search:f,selectedOneBarModules:A,sourceId:B,sourceModuleId:L,sourceUrl:h+f,topPinIds:Z,user:K}),R=m;m&&(R=!!p&&!l("unify_search_resource_auth_mweb").anyEnabled);let M=t||j===o.lw.USERS&&!m||R;return(0,s.Z)(M?null:O)}},207691:function(e,t,l){l.d(t,{Z:()=>r,f:()=>a});var i=l(686319),n=l(548286);function r(e,t){return async l=>{l((0,n.md)(e,!0));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){l((0,n.md)(e,!1))}}}function a(e,t){return async l=>{l((0,n.md)(e,!1));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){l((0,n.md)(e,!0))}}}},702226:function(e,t,l){l.d(t,{Z:()=>i});let i=(0,l(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,l)=>{let i=e[l];t[i.url??""]=i;let n=i.url?.toLocaleLowerCase();n&&i.url!==n&&(t[n]=i);let{oldSlugUrl:r}=i;return r&&(t[r]=i),t},{}))},681777:function(e,t,l){l.d(t,{CE:()=>p,Cm:()=>h,Sm:()=>g,eK:()=>f,fA:()=>c,yN:()=>s});var i=l(667294),n=l(506662),r=l(15667),a=l(886981);let s=10,o=window.location.host.startsWith("testing"),d=e=>{let t=new Date(e.getFullYear(),7,20),l=new Date(e.getFullYear(),8,24);return e>=t&&e<=l},c=["US","CA","GB","AU","DE","FR"],u=["US","CA","GB","FR","BR"],p=e=>{if(o)return!1;let t=new Date;return!!d(t)&&!!d(t)&&u.includes(e)},h=(e,t,l)=>(!e||l&&(0,n.gT)(l))&&c.includes(t),f=e=>e._('Explore featured boards', 'featured_boards.header', 'Explore featured boards header'),g=()=>{let{country:e}=(0,r.B)(),t=(0,i.useMemo)(()=>{var t;return"DE"===(t=e)?"pinterestde":"FR"===t?"pinterestfr":"AU"===t?"pinterestaustralia":"CA"===t?"pinterest_canada":"GB"===t?"pinterestuk":"pinterest"},[e]);return(0,a.Z)({name:"BoardsFeedResource",options:(({username:e,sort:t="last_pinned_to"})=>({field_set_key:"profile_grid_item",filter_stories:!1,sort:t,username:e}))({username:t})})}},301856:function(e,t,l){l.d(t,{Z:()=>d});var i=l(20256),n=l(525839),r=l(647709),a=l(785893);let s=({isPhone:e,url:t,handleClick:l})=>{let r=(0,n.ZP)(),s=r._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return e?(0,a.jsx)(i.I_,{accessibilityLabel:s,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"darkGray",onClick:l,padding:1,size:"xs"}):(0,a.jsx)(i.ZP,{accessibilityLabel:s,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:l,size:"md",text:r._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},o=({children:e,linkProps:t})=>t?(0,a.jsx)(i.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:e}):(0,a.jsx)(i.xu,{children:e}),d=({sectionHeader:e,sectionHeaderA11yLevel:t,pretext:l,pretextA11yLevel:n,linkProps:d,headerMarginTopOverride:c,smallHeader:u=!1})=>{let p=(0,r.ml)(),h=c??(p?12:16),f=u||p?"100":"300",g=u||p?"300":"600";return(0,a.jsxs)(i.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:h,width:"100%",children:[(0,a.jsxs)(o,{linkProps:d,children:[!!l&&(0,a.jsx)(i.xu,{marginBottom:1,children:n?(0,a.jsx)(i.X6,{accessibilityLevel:n,size:f,children:(0,a.jsx)(i.xv,{size:f,children:l})}):(0,a.jsx)(i.xv,{lineClamp:2,size:f,children:l})}),(0,a.jsx)(i.X6,{accessibilityLevel:t||2,size:g,children:e})]}),!!d&&(0,a.jsx)(s,{...d,isPhone:p})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64172-8d8118246bc5f5e6.mjs.map