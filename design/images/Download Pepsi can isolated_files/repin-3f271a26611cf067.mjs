(self.modernJsonp=self.modernJsonp||[]).push([["34940"],{376030:function(e,t,n){n.d(t,{Z:()=>et});var i,r,a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={},d={};function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function h(e,t){return e.apply(null,t)}var p={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return p.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||p.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return p.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return p.hex(e)||p.rgb(e)||p.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function g(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function _(e,t){var n=g(e),i=c(p.und(n[0])?1:n[0],.1,100),r=c(p.und(n[1])?100:n[1],.1,100),a=c(p.und(n[2])?10:n[2],.1,100),o=c(p.und(n[3])?0:n[3],.1,100),s=Math.sqrt(r/i),l=a/(2*Math.sqrt(r*i)),u=l<1?s*Math.sqrt(1-l*l):0,h=l<1?(l*s+-o)/u:-o+s;function _(e){var n=t?t*e/1e3:e;return(n=l<1?Math.exp(-n*l*s)*(+Math.cos(u*n)+h*Math.sin(u*n)):(1+h*n)*Math.exp(-n*s),0===e||1===e)?e:1-n}return t?_:function(){var t=d[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===_(i+=n)){if(++r>=16)break}else r=0;var a=i*n*1e3;return d[e]=a,a}}function m(e){return void 0===e&&(e=10),function(t){return Math.ceil(c(t,1e-6,1)*e)*(1/e)}}var f=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,r,a){if(0<=n&&n<=1&&0<=r&&r<=1){var o=new Float32Array(11);if(n!==i||r!==a)for(var s=0;s<11;++s)o[s]=e(.1*s,n,r);return function(s){return n===i&&r===a||0===s||1===s?s:e(function(i){for(var a=0,s=1;10!==s&&o[s]<=i;++s)a+=.1;var l=a+(i-o[--s])/(o[s+1]-o[s])*.1,d=t(l,n,r);if(d>=.001){for(var c=l,u=0;u<4;++u){var h=t(c,n,r);if(0===h)break;var p=e(c,n,r)-i;c-=p/h}return c}return 0===d?l:function(t,n,i,r,a){var o,s,l=0;do(o=e(s=n+(i-n)/2,r,a)-t)>0?i=s:n=s;while(Math.abs(o)>1e-7&&++l<10)return s}(i,a,a+.1,n,r)}(s),i,a)}}}}(),y=(i={linear:function(){return function(e){return e}}},r={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=c(e,1,10),i=c(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-i/(2*Math.PI)*Math.asin(1/n))/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){r[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(r).forEach(function(e){var t=r[e];i["easeIn"+e]=t,i["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},i["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},i["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}}),i);function b(e,t){if(p.fnc(e))return e;var n=e.split("(")[0],i=y[n],r=g(e);switch(n){case"spring":return _(e,t);case"cubicBezier":return h(f,r);case"steps":return h(m,r);default:return h(i,r)}}function x(e){try{return document.querySelectorAll(e)}catch(e){return}}function v(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&r.push(o)}return r}function P(e){return e.reduce(function(e,t){return e.concat(p.arr(t)?P(t):t)},[])}function S(e){return p.arr(e)?e:(p.str(e)&&(e=x(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function w(e,t){return e.some(function(e){return e===t})}function I(e){var t={};for(var n in e)t[n]=e[n];return t}function k(e,t){var n=I(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function j(e,t){var n=I(e);for(var i in t)n[i]=p.und(e[i])?t[i]:e[i];return n}function T(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return p.fnc(e)?e(t.target,t.id,t.total):e}function B(e,t){return e.getAttribute(t)}function C(e,t,n){if(w([n,"deg","rad","turn"],T(t)))return t;var i=l[t+n];if(!p.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var o=100/r.offsetWidth;a.removeChild(r);var s=o*parseFloat(t);return l[t+n]=s,s}function R(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?C(e,r,n):r}}function E(e,t){return p.dom(e)&&!p.inp(e)&&(!p.nil(B(e,t))||p.svg(e)&&e[t])?"attribute":p.dom(e)&&w(s,t)?"transform":p.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function z(e){if(p.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function Z(e,t,n,i){switch(E(e,t)){case"transform":var r,a;return r=u(t,"scale")?1:0+(u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0),a=z(e).get(t)||r,i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?C(e,a,n):a;case"css":return R(e,t,n);case"attribute":return B(e,t);default:return e[t]||0}}function F(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=T(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function L(e,t){if(p.col(e)){var n,i,r;return p.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+n[1]+",1)":e:p.hex(e)?(i=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):p.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function d(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=i=s;else{var c=s<.5?s*(1+o):s+o-s*o,u=2*s-c;t=d(u,c,a+1/3),n=d(u,c,a),i=d(u,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+l+")"}(e):void 0}if(/\s/g.test(e))return e;var a=T(e),o=a?e.substr(0,e.length-a.length):e;return t?o+t:o}function O(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function M(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=O(t,a)),t=a}return i}function D(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*B(e,"r");case"rect":return 2*B(e,"width")+2*B(e,"height");case"line":return O({x:B(e,"x1"),y:B(e,"y1")},{x:B(e,"x2"),y:B(e,"y2")});case"polyline":return M(e);case"polygon":return t=e.points,M(e)+O(t.getItem(t.numberOfItems-1),t.getItem(0))}}function N(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;p.svg(t)&&p.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=B(i,"viewBox"),o=r.width,s=r.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:s,vW:l[2],vH:l[3]}}function K(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=L(p.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:p.str(e)||t?i.split(n):[]}}function H(e){return v(e?P(p.arr(e)?e.map(S):S(e)):[],function(e,t,n){return n.indexOf(e)===t})}function $(e){var t=H(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:z(e)}}})}var W={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach(function(e,t){a+=t+"("+e+") "}),e.style.transform=a}}};function U(e,t){$(e).forEach(function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=T(i),o=Z(r,n,a,e),s=F(L(i,a||T(o)),o);W[E(r,n)](r,n,s,e.transforms,!0)}})}function Y(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,r}var q=0,G=[],V=function(){var e;function t(n){for(var i=G.length,r=0;r<i;){var a=G[r];a.paused?(G.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Q.suspendWhenDocumentHidden&&(X()?e=cancelAnimationFrame(e):(G.forEach(function(e){return e._onDocumentVisibility()}),V()))}),function(){e||X()&&Q.suspendWhenDocumentHidden||!(G.length>0)||(e=requestAnimationFrame(t))}}();function X(){return!!document&&document.hidden}function Q(e){void 0===e&&(e={});var t,n,i,r,s,l,d,u,h,g=0,m=0,f=0,y=0,x=null;function S(e){var t=window.Promise&&new Promise(function(e){return x=e});return e.finished=t,t}var w=(n=k(a,t=e),r=function(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=j(function(e){for(var t=v(P(e.map(function(e){return Object.keys(e)})),function(e){return p.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var r=t[i];n[r]=e.map(function(e){var t={};for(var n in e)p.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)p.key(r)&&n.push({name:r,tweens:function(e,t){var n=I(t);if(/^spring/.test(n.easing)&&(n.duration=_(n.easing)),p.arr(e)){var i=e.length;2!==i||p.obj(e[0])?p.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var r=p.arr(e)?e:[e];return r.map(function(e,n){var i=p.obj(e)&&!p.pth(e)?e:{value:e};return p.und(i.delay)&&(i.delay=n?0:t.delay),p.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i}).map(function(e){return j(e,n)})}(t[r],e)});return n}(i=k(o,t),t),d=Y(l=v(P((s=$(t.targets)).map(function(e){return r.map(function(t){var n=e,i=t,r=E(n.target,i.name);if(r){var a,o=i.tweens.map(function(e){var t=function(e,t){var n={};for(var i in e){var r=A(e[i],t);p.arr(r)&&1===(r=r.map(function(e){return A(e,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(e,n),r=t.value,o=p.arr(r)?r[1]:r,s=T(o),l=Z(n.target,i.name,s,n),d=a?a.to.original:l,c=p.arr(r)?r[0]:d,u=T(c)||T(l),h=s||u;return p.und(o)&&(o=d),t.from=K(c,h),t.to=K(F(o,c),h),t.start=a?a.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=b(t.easing,t.duration),t.isPath=p.pth(r),t.isPathTargetInsideSVG=t.isPath&&p.svg(n.target),t.isColor=p.col(t.from.original),t.isColor&&(t.round=1),a=t,t}),s=o[o.length-1];return{type:r,property:i.name,animatable:n,tweens:o,duration:s.end,delay:o[0].delay,endDelay:s.endDelay}}})})),function(e){return!p.und(e)}),i),u=q,q++,j(n,{id:u,children:[],animatables:s,animations:l,duration:d.duration,delay:d.delay,endDelay:d.endDelay}));function B(){var e=w.direction;"alternate"!==e&&(w.direction="normal"!==e?"normal":"reverse"),w.reversed=!w.reversed,h.forEach(function(e){return e.reversed=w.reversed})}function C(e){return w.reversed?w.duration-e:e}function R(){g=0,m=C(w.currentTime)*(1/Q.speed)}function z(e,t){t&&t.seek(e-t.timelineOffset)}function L(e){for(var t=0,n=w.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,o=r.tweens,s=o.length-1,l=o[s];s&&(l=v(o,function(t){return e<t.end})[0]||l);for(var d=c(e-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(d)?1:l.easing(d),h=l.to.strings,p=l.round,g=[],_=l.to.numbers.length,m=void 0,f=0;f<_;f++){var y=void 0,b=l.to.numbers[f],x=l.from.numbers[f]||0;y=l.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=N(e.el,e.svg),a=i(),o=i(-1),s=i(1),l=n?1:r.w/r.vW,d=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*l;case"y":return(a.y-r.y)*d;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}(l.value,u*b,l.isPathTargetInsideSVG):x+u*(b-x),p&&!(l.isColor&&f>2)&&(y=Math.round(y*p)/p),g.push(y)}var P=h.length;if(P){m=h[0];for(var S=0;S<P;S++){h[S];var I=h[S+1],k=g[S];isNaN(k)||(I?m+=k+I:m+=k+" ")}}else m=g[0];W[r.type](a.target,r.property,m,a.transforms),r.currentValue=m,t++}}function O(e){w[e]&&!w.passThrough&&w[e](w)}function M(e){var t=w.duration,n=w.delay,i=t-w.endDelay,r=C(e);w.progress=c(r/t*100,0,100),w.reversePlayback=r<w.currentTime,h&&function(e){if(w.reversePlayback)for(var t=y;t--;)z(e,h[t]);else for(var n=0;n<y;n++)z(e,h[n])}(r),!w.began&&w.currentTime>0&&(w.began=!0,O("begin")),!w.loopBegan&&w.currentTime>0&&(w.loopBegan=!0,O("loopBegin")),r<=n&&0!==w.currentTime&&L(0),(r>=i&&w.currentTime!==t||!t)&&L(t),r>n&&r<i?(w.changeBegan||(w.changeBegan=!0,w.changeCompleted=!1,O("changeBegin")),O("change"),L(r)):w.changeBegan&&(w.changeCompleted=!0,w.changeBegan=!1,O("changeComplete")),w.currentTime=c(r,0,t),w.began&&O("update"),e>=t&&(m=0,w.remaining&&!0!==w.remaining&&w.remaining--,w.remaining?(g=f,O("loopComplete"),w.loopBegan=!1,"alternate"===w.direction&&B()):(w.paused=!0,!w.completed&&(w.completed=!0,O("loopComplete"),O("complete"),!w.passThrough&&"Promise"in window&&(x(),S(w)))))}return S(w),w.reset=function(){var e=w.direction;w.passThrough=!1,w.currentTime=0,w.progress=0,w.paused=!0,w.began=!1,w.loopBegan=!1,w.changeBegan=!1,w.completed=!1,w.changeCompleted=!1,w.reversePlayback=!1,w.reversed="reverse"===e,w.remaining=w.loop,y=(h=w.children).length;for(var t=y;t--;)w.children[t].reset();(w.reversed&&!0!==w.loop||"alternate"===e&&1===w.loop)&&w.remaining++,L(w.reversed?w.duration:0)},w._onDocumentVisibility=R,w.set=function(e,t){return U(e,t),w},w.tick=function(e){f=e,g||(g=f),M((f+(m-g))*Q.speed)},w.seek=function(e){M(C(e))},w.pause=function(){w.paused=!0,R()},w.play=function(){w.paused&&(w.completed&&w.reset(),w.paused=!1,G.push(w),R(),V())},w.reverse=function(){B(),w.completed=!w.reversed,R()},w.restart=function(){w.reset(),w.play()},w.remove=function(e){ee(H(e),w)},w.reset(),w.autoplay&&w.play(),w}function J(e,t){for(var n=t.length;n--;)w(e,t[n].animatable.target)&&t.splice(n,1)}function ee(e,t){var n=t.animations,i=t.children;J(e,n);for(var r=i.length;r--;){var a=i[r],o=a.animations;J(e,o),o.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}Q.version="3.2.1",Q.speed=1,Q.suspendWhenDocumentHidden=!0,Q.running=G,Q.remove=function(e){for(var t=H(e),n=G.length;n--;)ee(t,G[n])},Q.get=Z,Q.set=U,Q.convertPx=C,Q.path=function(e,t){var n=p.str(e)?x(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:N(n),totalLength:D(n)*(i/100)}}},Q.setDashoffset=function(e){var t=D(e);return e.setAttribute("stroke-dasharray",t),t},Q.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?b(t.easing):null,r=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,d="last"===o,c=p.arr(e),u=c?parseFloat(e[0]):parseFloat(e),h=c?parseFloat(e[1]):0,g=T(c?e[1]:e)||0,_=t.start||0+(c?u:0),m=[],f=0;return function(e,t,p){if(s&&(o=0),l&&(o=(p-1)/2),d&&(o=p-1),!m.length){for(var y=0;y<p;y++){if(r){var b=l?(r[0]-1)/2:o%r[0],x=l?(r[1]-1)/2:Math.floor(o/r[0]),v=y%r[0],P=Math.floor(y/r[0]),S=b-v,w=x-P,I=Math.sqrt(S*S+w*w);"x"===a&&(I=-S),"y"===a&&(I=-w),m.push(I)}else m.push(Math.abs(o-y));f=Math.max.apply(Math,m)}i&&(m=m.map(function(e){return i(e/f)*f})),"reverse"===n&&(m=m.map(function(e){return a?e<0?-1*e:-e:Math.abs(f-e)}))}return _+(c?(h-u)/f:u)*(Math.round(100*m[t])/100)+g}},Q.timeline=function(e){void 0===e&&(e={});var t=Q(e);return t.duration=0,t.add=function(n,i){var r=G.indexOf(t),a=t.children;function s(e){e.passThrough=!0}r>-1&&G.splice(r,1);for(var l=0;l<a.length;l++)s(a[l]);var d=j(n,k(o,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=p.und(i)?c:F(i,c),s(t),t.seek(d.timelineOffset);var u=Q(d);s(u),a.push(u);var h=Y(a,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Q.easing=b,Q.penner=y,Q.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let et=Q},764227:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="76b22cc5d658befe1dc27454d3aee77f";let r=i},853213:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="69ffcdea57a7778d2ebbcd41c276c0d0";let a=r},645632:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};i.hash="60ba8f292ef82335c3d4cbce50f362d8";let r=i},148281:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="b3ec14d29962e56f80dd52e7e6d7a6d9";let a=r},205725:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};r.hash="475036dcb56a51d3552313200b8c9d45";let a=r},727382:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null}],type:"Pin",abstractKey:null};r.hash="1612c2df94f42990b3d4f6ccede72a70";let a=r},252031:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i=(a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],o=[{kind:"Variable",name:"pin",variableName:"pinId"}],l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,l,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:u,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:u,storageKey:null}],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"07d289e6c922ebc4ed21efcdd6fb425983d982a2c8a0484ddaf1b91db1391adf",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});i.hash="76093586a269ca0330e25a57bd33f665";let r=i;var a,o,s,l,d,c,u,h=i.default||i;if("query"===h.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(h);else{let e=[h.params.name,h.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=h}},713443:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};i.hash="b1432f4e80d112c155f930f7ed3760cd";let r=i},428988:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="f0b2fbadfba92480a2077999a000a308";let a=r},182522:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};i.hash="a8967078f1de7ce3a263a224d0d0e710";let r=i;var a,o,s,l,d,c=i.default||i;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},377654:function(e,t,n){n.d(t,{Rq:()=>i,Vf:()=>r,jd:()=>a,oy:()=>o});let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,a=e=>window.innerHeight>=748&&i(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},473304:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),r=n(20256),a=n(937805),o=n(667835),s=n(461951),l=n(816358),d=n(516114),c=n(785893);function u({children:e,footerConfig:t,headerConfig:n,height:u,hideOnScroll:h,hideOnScrollState:{isHidden:p,updateHiddenState:g},isFooterHidden:_,noPadding:m,paddingX:f,paddingY:y=d.og,type:b,zIndex:x}){let v,P,{headerLimitedOverflow:S,ignoreObstructions:w,zIndexForGestaltBug:I}=n||{},{appUpsellFooterConfig:k,footerInLego:j,navFooterConfig:T}=t||{},A=!!k,B="header"===b?"top":"bottom",C=(0,o.vs)(),{mWebCloseupRedesignEnabled:R}=(0,a.Z)(),E=(0,i.useRef)(null),z=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!w){let e=E.current;z.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,z.current instanceof HTMLElement&&l.Z.addObstruction(B,z.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!w&&z.current instanceof HTMLElement&&l.Z.removeObstruction(B,z.current)}},[w,S,B,C]);let Z="top"===B?"relative":"fixed",F=m?0:y,L=(u??d.R$)+(n?.overrideTop||0),O=h||T?{transition:j||R?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p||_?{transform:`translateY(${"top"===B?-L:L}px)`,opacity:j||R?0:1}:Object.freeze({})}:{},M=2*!("relative"!==Z||n?.noGutter),D=M?-M:0,N=C?o.k7:"rgba(255,255,255,.95)";C&&("header"===b?v=-1:P=-1);let K=j?A?void 0:u??d.R$:"100%",H=j?d.KJ:void 0,$=n?.isTranslucent&&N||C?N:s.Wmm,W=n?.isTransparentBackground&&s.Wyp?s.Wyp:$,U=(0,i.useMemo)(()=>({height:"footer"===b&&R?`calc(${K} + env(safe-area-inset-bottom))`:K,...R&&"footer"===b?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(F||0)}px)`}:Object.freeze({})}),[R,K,b,F]);return(0,c.jsx)(r.xu,{ref:E,bottom:"footer"===b,dangerouslySetInlineStyle:{__style:{top:v,bottomStyle:P,...!x||I?{zIndex:I||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},"data-test-id":b,display:A?"flex":void 0,height:u&&!j?u:void 0,left:!0,marginEnd:j?"auto":D,marginStart:j?"auto":D,onTransitionEnd:()=>{(h||T)&&z.current&&(p||_?l.Z.removeObstruction(B,z.current):l.Z.addObstruction(B,z.current))},position:Z,right:!0,top:"header"===b,width:j||"fixed"!==Z?void 0:"100%",zIndex:I?void 0:x,children:(0,c.jsx)(r.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:W,...U,boxShadow:R&&"footer"===b?`0 10px 0 0 ${W}, ${d.KJ}`:H,marginBottom:j&&!T?.docked?16:void 0,...S?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:j||t?.alignCenter?"flex":void 0,marginEnd:j?"auto":void 0,marginStart:j?"auto":void 0,paddingX:f||4*("footer"===b&&!m)+M,paddingY:F,position:"relative",rounding:j&&!T?.docked?"pill":void 0,width:T?T.footerWidth:A?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:g}):e})})}},394962:function(e,t,n){n.d(t,{Z:()=>o});var i=n(473304),r=n(211887),a=n(785893);function o({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:o,navFooterConfig:s,...l}){return(0,a.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:s?.scrollConfig,children:r=>(0,a.jsx)(i.Z,{...l,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:o,navFooterConfig:s},hideOnScrollState:r,type:"footer"})})}},588367:function(e,t,n){n.r(t),n.d(t,{default:()=>l});var i=n(20256),r=n(516114),a=n(473304),o=n(211887),s=n(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:l,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:h,zIndexForGestaltBug:p,...g}){let{noPadding:_,paddingY:m=r.og,zIndex:f}=g;return(0,s.jsx)(i.Le,{height:t?r.LV+2*(_?0:m)*4:void 0,top:u||0,zIndex:f||void 0,children:(0,s.jsx)(o.Z,{hideOnScroll:g.hideOnScroll,children:i=>(0,s.jsx)(a.Z,{...g,headerConfig:{isTranslucent:l,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:c,overrideTop:u,zIndexForGestaltBug:p,useRoundedCorners:h},hideOnScrollState:i,type:"header"})})})}},211887:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(159527);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,r.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,r=i-this.lastScrollPos,a="none",{scrollHeight:o,clientHeight:s}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(s)||(a=r<0?i<=Math.abs((window.scrollMinY||0)+Math.max(r,20))?"start":"none":i>=(window.scrollMaxY||o-s)-Math.max(r,20)?"end":"none");let l=55*!t?.isModal;e?r>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20&&!n||i<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!n||i<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>l||"end"===a)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20||"start"===a)&&n||i<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(r>20||"end"===a)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},914061:function(e,t,n){n.r(t),n.d(t,{default:()=>d});var i=n(20256),r=n(93966),a=n(377654),o=n(657389),s=n(15667),l=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:h=!1})=>{let p=(0,s.B)(),g=(0,a.jd)(p.userAgent.platform)?a.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${g}px)`:c,paddingX:d?r.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(o.C,{value:!!d,children:e})})}},516114:function(e,t,n){n.d(t,{KJ:()=>s,LV:()=>o,R$:()=>i,UB:()=>a,dS:()=>l,og:()=>r});let i=64,r=3,a=100,o=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},978417:function(e,t,n){n.d(t,{AS:()=>d,Ps:()=>a,Q6:()=>p,ZP:()=>c,le:()=>g,qe:()=>u,yU:()=>h});var i=n(503246),r=n(734215);let a=(e,t)=>e.length===t.length&&e.every((e,n)=>(0,r.Z)(e,t[n])),o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),s=e=>e;function l(e,t=o,n=s){return function(i){let r=[];return function(...a){let o=r.find(e=>t(e.args,n(a)));if(o)return o.result;let s=i(...a);return r.push({args:n(a),result:s}),e&&r.length>e&&r.shift(),s}}}function d(e,t=o,n=s){let i=[];return{memoize:function(r){return function(...a){let o=n(a),s=i.find(e=>t(e.args,o));if(s)return s.result;let l=r(...a);return i.push({args:o,result:l}),e&&i.length>e&&i.shift(),l}},clearCache:function(){i=[]}}}let c=l(),u=l(1),h=l(void 0,o,e=>[JSON.stringify(e)]),p=l(0,a),g=l(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,i.ZP)(e,t[n])))},461920:function(e,t,n){function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:r,redirectUrl:a}=e.error;(404===i||401===i&&7===r)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(n={pathname:a})}return n}n.d(t,{Z:()=>i})},444185:function(e,t,n){n.d(t,{Z:()=>a});var i=n(849233),r=n(943257);function a(e){let{enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:s,schema:l}=e??{name:i.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:h,isFetching:p,isLoaded:g,isRefreshing:_,refresh:m}=(0,r.Z)({enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:s,schema:l},d,!1);return d||c(),{ref:u,fetchMore:h,isFetching:p,isLoaded:g,isRefreshing:_,refresh:m}}},374078:function(e,t,n){n.d(t,{Z:()=>l});var i=n(616550),r=n(821342),a=n(506662),o=n(461920),s=n(886981);function l(e){let t=(0,i.k6)(),n=(0,i.TH)(),{isAuth:l}=(0,r.Z)(),d=!l&&(0,a.L6)(n),c=(0,s.Z)(e),u=(0,o.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},762525:function(e,t,n){n.d(t,{Z:()=>a});var i=n(20256),r=n(785893);function a({text:e}){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:(0,r.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},629315:function(e,t,n){n.d(t,{Z:()=>c});var i=n(20256),r=n(19585),a=n(588367),o=n(914061),s=n(477213),l=n(588836),d=n(785893);function c(e){let t=(0,r.Z)(),{backButtonIcon:n,errorMessage:c,name:u,onNextButtonTouch:h,onNameChange:p,selectedPinIds:g=[],useRoundedCorners:_}=e,m=g.length>0?130:64;return(0,d.jsxs)(o.default,{hasFixedHeader:!0,children:[(0,d.jsxs)(a.default,{height:m,paddingY:3,useRoundedCorners:_,children:[(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,d.jsx)(i.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,d.jsx)(i.xu,{"data-test-id":"create-section-button",children:(0,d.jsx)(i.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===u.trim(),onClick:h,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),g&&(0,d.jsx)(s.Z,{selectedPinIds:g})]}),(0,d.jsx)(i.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,d.jsx)(i.nv,{errorMessage:c||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>p(e.event),size:"lg",value:u})})]})}},791694:function(e,t,n){n.d(t,{Z:()=>_});var i=n(667294),r=n(581722),a=n(20256),o=n(821342),s=n(19585),l=n(886981),d=n(435289),c=n(214239),u=n(145127),h=n(482633),p=n(993127),g=n(785893);function _({excludeBoardId:e,hideSectionPickerList:t,onRepin:n}){var _;let m=(0,s.Z)(),f=(0,o.Z)(),y=(_=f.isAuth?f.username:"",(0,l.Z)({name:"BoardsResource",options:c.O.options({username:_,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,r.v9)(e=>(0,u.Z)(e)||[])),[b,x]=(0,i.useState)(null);return y.length>0&&(b&&!t?(0,g.jsx)(p.Z,{boardId:b?.id,repin:(e,t)=>{b&&n(b,t)},showSectionRep:!0}):(0,g.jsxs)(a.xu,{"data-test-id":"board-picker-row-container",children:[(0,g.jsx)(a.xu,{marginTop:3,children:(0,g.jsx)(a.xv,{children:m._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${d.T}px`}},paddingY:3,children:y.filter(t=>t.id!==e).map(e=>(0,g.jsx)(h.Z,{boardId:e.id,onBoardSelected:i=>((e,i)=>{if(!t&&e&&i)return void x(i);n(i)})(i,e)},e.id))})]}))}},701523:function(e,t,n){n.d(t,{Wx:()=>j,ZP:()=>A});var i=n(667294),r=n(581722),a=n(616550),o=n(20256),s=n(475498),l=n(19585),d=n(394962),c=n(588367),u=n(914061),h=n(87853),p=n(435289),g=n(791694),_=n(477213),m=n(366859),f=n(782677),y=n(575108),b=n(72918),x=n(388023);let v=e=>t=>{let{source:n,target:i,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){let e={board_id:i.boardId,pin_ids:r,section_id:i.sectionId};return y.Z.create("BulkEditResource",e).callUpdate()}if(i.sectionId){let e={section_id:i.sectionId,pins:r},n="BoardSectionEditResource";return y.Z.create(n,e).callUpdate().then(i=>{let r=(0,f.Fv)(i.resource_response.data,x.Z[n]);return t((0,b.XM)(n,e,i,r)),i})}let a={section_id:n.sectionId,pins:r};return y.Z.create("BoardSectionPinsResource",a).callDelete()};var P=n(987782),S=n(588836),w=n(993127),I=n(785893);function k(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function j({onAddNewSection:e,useIconWithBackground:t}){let n=(0,l.Z)();return(0,I.jsx)(d.Z,{alignCenter:t,height:t?p.y:p.T,children:(0,I.jsx)(m.Z,{onTouch:e,pressState:"none",children:(0,I.jsxs)(o.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,I.jsx)(o.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,I.jsx)(o.JO,{accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,I.jsx)(o.JO,{accessibilityLabel:n._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,I.jsx)(o.xu,{marginStart:2,children:(0,I.jsx)(o.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,I.jsx)(o.xu,{marginStart:3,children:(0,I.jsx)(o.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class T extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="onRepinToBoard",n=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{boardId:e,boardSectionId:t,orginalBoardId:n,onAddNewSection:i,repin:r,hideBoardPickerRow:a,selectedPinIds:s,isCollaborative:l}=this.props,d=n===e;return(0,I.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,I.jsxs)(c.default,{hasBorder:!0,height:140,children:[(0,I.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,I.jsx)(o.xu,{column:2,children:(0,I.jsx)(S.Z,{})}),(0,I.jsx)(o.xu,{column:8,children:(0,I.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,I.jsx)(o.xu,{column:2})]}),(0,I.jsx)(_.Z,{selectedPinIds:s})]}),e&&(0,I.jsx)(w.Z,{boardId:e,hideBoardPickerRow:d&&a,originalBoardId:n,repin:r,sectionId:t}),d&&(0,I.jsxs)(o.xu,{children:[!l&&(0,I.jsx)(g.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,I.jsx)(j,{onAddNewSection:i})]})]})}}let A=function(e){let{inSelectAll:t,pinIds:n,orginalBoardId:i,boardSectionId:o,onRefreshBoardSection:d,url:c}=e,{showToast:u}=(0,h.dI)(),p=(0,l.Z)(),g=(0,a.k6)(),_=(0,r.I0)(),m=async(e,r,a)=>{let l=r&&r.id,h={boardId:i,sectionId:o},p={boardId:e,sectionId:l},m=t?(0,P.Z)({source:h,target:p,excludePinIds:n}):v({source:h,target:p,pinIds:n});i!==e?(await _(m),g.push({pathname:c})):(await _(m),d&&await d()),u(({hideToast:e})=>(0,I.jsx)(s.Z,{onHide:e,text:k(t,l,a)}))},f=async(e,r)=>{let a={boardId:i,sectionId:o},l={boardId:e,sectionId:void 0};u(({hideToast:e})=>(0,I.jsx)(s.Z,{onHide:e,text:k(t,void 0,r)})),await _(t?(0,P.Z)({source:a,target:l,excludePinIds:n}):v({source:a,target:l,pinIds:n})),g.go(-2)};return(0,I.jsx)(T,{...e,i18n:p,repin:m,repinToOtherBoard:f})}},477213:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),r=n(20256),a=n(19585),o=n(169053),s=n(785893);function l({selectedPinIds:e}){let t=(0,a.Z)(),n=(0,i.useRef)(null),l=(0,o.JC)(),d=(e||[]).map(e=>l[e]).filter(Boolean);(0,i.useEffect)(()=>{let e=n.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[d]);let c=d.map((e,n)=>{let{description:i,images:a}=e,o=a?.["236x"];return(0,s.jsx)(r.xu,{marginEnd:1,children:(0,s.jsx)(r.zd,{height:65,rounding:2,wash:!0,width:50,children:o?.url&&(0,s.jsx)(r.Ee,{alt:!!i?.trim()&&i?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:o?.height??1,naturalWidth:o?.width??1,src:o.url})})},n)});return(0,s.jsx)(r.xu,{ref:n,display:"flex",marginTop:2,overflow:"scroll",children:c})}},435289:function(e,t,n){n.d(t,{T:()=>i,y:()=>r});let i=70,r=80},156618:function(e,t,n){n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>o,Qj:()=>l,_6:()=>g,gv:()=>a,hg:()=>d,is:()=>h,jP:()=>p,lt:()=>r,oM:()=>c,wI:()=>u});var i=n(378888);let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),p=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},753830:function(e,t,n){n.d(t,{Z:()=>s});var i=n(525839),r=n(156618),a=n(848387),o=n(785893);function s({children:e,callbackFunction:t,modalHeader:n,nextLocation:s}){let l=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:h}=(0,a.m)(),p="LIMITED_LOGIN"===d.type;return(0,o.jsx)("div",{onClickCapture:e=>{p&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),c?.setVisible(!0),u?.setText(n||(0,r.lt)(l)),s&&h?.setRoute(s))},children:e})}},979922:function(e,t,n){n.d(t,{BT:()=>F,Du:()=>O,Fh:()=>B,HY:()=>L,HZ:()=>R,IY:()=>Z,Jw:()=>y,Kp:()=>H,L7:()=>i,LT:()=>u,Lj:()=>N,Nw:()=>I,Q_:()=>w,Qc:()=>r,R5:()=>j,RA:()=>k,Tt:()=>A,UF:()=>d,UV:()=>o,VB:()=>x,W1:()=>a,Ws:()=>h,X5:()=>T,Yt:()=>z,ZW:()=>l,cK:()=>v,cy:()=>f,fA:()=>D,fn:()=>E,gm:()=>b,h7:()=>S,k:()=>_,mE:()=>K,o4:()=>g,oL:()=>M,qf:()=>p,tr:()=>c,uD:()=>P,uO:()=>m,vF:()=>s,wJ:()=>C});let i=1,r=2,a="female",o="male",s="unspecified",l="en-US",d="US",c=3,u="Welcome",h="Gender",p="CountryLocale",g="InterestPicker",_="UseCase",m="PinPicker",f="LoadingStep",y="AppInstall",b="NUX_PIN_PICKER_STEP_STATUS",x="NUX_USE_CASE_STEP_STATUS",v={NUX_GENDER_STEP_NAME:h,NUX_COUNTRY_LOCALE_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:g,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:f,NUX_APP_INSTALL_STEP_NAME:y},P=2,S=3,w=6,I=112,k=160,j=60,T=1e3,A=2500,B=1900,C=2e3,R=3,E=5,z=1,Z=2,F=3,L=3,O=5e3,M=250,D=1e10,N=507641,K=300,H=200},96105:function(e,t,n){n.d(t,{Z:()=>I});var i=n(667294),r=n(376030),a=n(20256),o=n(525839),s=n(32937),l=n(341742),d=n(369416),c=n(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function h({addedStyles:e,button:t,headerText:n,icon:r,iconOverride:o,minHeight:s,subHeaderText:l}){return(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:s||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=o||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(a.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(a.JO,{accessibilityLabel:r.accessibilityLabel,color:r.color,dangerouslySetSvgPath:r.dangerouslySetSvgPath,icon:r.icon,inline:r.inline,size:r.size})})]});return(0,c.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(a.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:n}),!!l&&(0,c.jsx)(a.xu,{paddingY:1,children:(0,c.jsx)(a.xv,{color:"default",size:"300",children:l})})]}),(0,c.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var p=n(783556);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _="cubicBezier(0.25, 0.1, 0.25, 1)",m="encourageToastIconContainer",f="encourageToastIconRadiateBg",y="encourageToastIconRadiateRing",b={targets:`#${m}`,duration:300,scale:1.4,easing:_},x={targets:`#${m}`,duration:300,scale:1,easing:_,endDelay:1e3},v={targets:`#${m}`,duration:300,scale:.42,easing:_},P={targets:`#${f}`,duration:400,opacity:0,scale:1.6,easing:_},S={targets:`#${y}`,duration:650,opacity:0,scale:2,easing:_};class w extends i.PureComponent{constructor(...e){super(...e),g(this,"delayTimer",null),g(this,"requestAnimationFrameId",null),g(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,r.Z)(P),(0,r.Z)(S),(0,r.Z)(b).finished.then(()=>{(0,r.Z)(x).finished.then(()=>{r.Z.set(`#${m}`,{transformOrigin:"top right"}),(0,r.Z)(v)})})})}),g(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),g(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),g(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),g(this,"renderAnimatedIcon",()=>(0,c.jsxs)(a.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:m,position:"absolute",width:68,children:[(0,c.jsx)(a.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:f,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:y,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(h,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function I(e){let{duration:t,onHide:n}=e,r=(0,o.ZP)(),[d,u]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),_=(0,i.useRef)(void 0),m=()=>{u(!0),_.current=setTimeout(n,200)},f=()=>{_.current&&clearTimeout(_.current)};(0,l.Z)(()=>(setTimeout(()=>g(!0),100),_.current=setTimeout(m,t||p.w),f));let y=(0,c.jsx)(w,{...e,i18n:r});return e.href&&(y=(0,c.jsx)(a.rU,{href:e.href,onClick:m,rounding:"pill",tapStyle:"none",children:y})),(0,c.jsx)(s.Z,{children:(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:h})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:p.k,children:y})})})}},810008:function(e,t,n){n.d(t,{_:()=>p,Z:()=>g});var i=n(667294),r=n(20256),a=n(525839),o=n(298097),s=n(169053),l=n(785893);function d({pinId:e}){let t=(0,s.S6)()(e);if(!t)return null;let n=[{url:t.images?.["236x"]?.url,name:t.grid_title||""}].filter(e=>e.url);return(0,l.jsx)(o.Z,{images:n})}let c=(0,i.lazy)(()=>Promise.resolve().then(n.bind(n,222401))),u=()=>(0, a.ZP)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board'),h=()=>(0, a.ZP)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board'),p=e=>(0,l.jsx)(r.zd,{rounding:4,children:(0,l.jsxs)(r.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,l.jsx)(r.sg,{span:8,children:(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,l.jsx)(r.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,l.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,l.jsx)(r.sg,{span:5,children:(0,l.jsxs)(r.xu,{height:"100%",children:[(0,l.jsx)(r.xu,{height:"49%",position:"relative",children:(0,l.jsx)(r.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,l.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,l.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,l.jsx)(r.xu,{height:"3%",position:"relative",children:(0,l.jsx)(r.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,l.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,l.jsx)(r.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,l.jsx)(r.xu,{height:"49%",position:"relative",children:(0,l.jsx)(r.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,l.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,l.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})}),g=({boardId:e,getReduxBoard:t,isFBC:n,pinId:a,viewType:o})=>{let s=t(e);return{duration:5e3,thumbnail:(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,l.jsx)(i.Suspense,{children:a?(0,l.jsx)(d,{pinId:a}):(0,l.jsx)(c,{boardKey:s?{type:"deprecated",data:s}:null,type:"thumbnail",viewType:o})})}),text:n?[(0,l.jsx)(u,{},"0"),(0,l.jsx)(h,{},"1")]:void 0}}},782251:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),r=n(581722),a=n(87853),o=n(979922),s=n(258644);function l(){let e=(0,r.I0)(),{showToast:t,showOneToast:n}=(0,a.dI)(),l=(0,r.oR)(),d=(0,i.useCallback)((n,i)=>{i||e((0,s.a5)()),t(n)},[e,t]);return{showToast:t,showOneToast:n,showRepinConfirmation:(t,n)=>{n||e((0,s.WF)()),setTimeout(()=>{l.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{d(t,n)},o.wJ):d(t,n)},o.Tt)}}}},128061:function(e,t,n){n.d(t,{ZP:()=>tp,vY:()=>th});var i,r,a,o,s,l,d,c,u,h=n(667294),p=n(581722),g=n(167912),_=n(616550),m=n(787558),f=n(172045),y=n(20256),b=n(521009),x=n(364843),v=n(877956),P=n(982166),S=n(678213),w=n(475498),I=n(821342),k=n(415546),j=n(801082),T=n(525839),A=n(302148),B=n(377654),C=n(588367),R=n(914061),E=n(274320),z=n(444185),Z=n(374078),F=n(647709),L=n(701523),O=n(762525),M=n(620427);function D(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var N=n(156618),K=n(753830),H=n(469526),$=n(978417),W=n(785893);let U="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Y=(0,$.qe)((e,t,n,i,r)=>{let a=e,o=t,s=0,l=0,d="",c=Math.floor(t/3);if("shrinkToPin"===n&&(s="24px",l=1,a=Math.floor(3*c/2),o=c),"pinToGrid"===n&&i&&r){let e=i.getBoundingClientRect(),t=r.getBoundingClientRect(),n=t.x+t.width/2-(e.x+e.width/2),u=t.y+t.height/2-(e.y+e.height/2);d=`translate(${n}px, ${u}px)`,s="24px 0px 0px 24px",l=1,a=c,o=c}return{borderRadius:s,height:a,opacity:l,overflow:"hidden",width:o,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:`all .42s ${U}`,transition:`all .42s ${U}`}}),q=(0,$.qe)(e=>({opacity:+!!e,WebkitTransition:`opacity .42s ${U}`,transition:`opacity .42s ${U}`})),G=(0,$.qe)(e=>({opacity:+!e,WebkitTransition:`all .25s ${U}`,transition:`all .25s ${U}`,zIndex:3}));function V({completeExperience:e,pinDominantColor:t,pinImageHeight:n,pinImageWidth:i,pinImageUrl:r}){let a,o,s,l,d=(0,T.ZP)(),[c,u]=(0,h.useState)("visible"),[p,g]=(0,h.useState)("none"),_=window.innerWidth,m=Math.floor(_/3),f=Math.floor(_/6);(0,h.useEffect)(()=>{r&&"none"===p&&(a=setTimeout(()=>{g("shrinkToPin")},85)),r&&"shrinkToPin"===p&&(o=setTimeout(()=>{g("pinToGrid")},2e3)),"pinToGrid"===p&&"visible"===c&&(s=setTimeout(()=>{u("hidden")},2e3)),"hidden"===c&&(l=setTimeout(()=>{u("none"),e()},300))}),(0,h.useEffect)(()=>()=>{clearTimeout(a),clearTimeout(o),clearTimeout(s),clearTimeout(l)},[]);let b=(0,h.useRef)(null),x=(0,h.useRef)(null);return(0,W.jsxs)(y.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:G("hidden"===c)},direction:"column",display:"none"===c?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,W.jsxs)(y.xu,{alignItems:"center",display:"flex",height:_/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,W.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:q("pinToGrid"===p)},position:"absolute",children:(0,W.jsx)(y.zd,{height:m,rounding:6,width:m+f+1,children:(0,W.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,W.jsx)(y.xu,{ref:x,color:"transparent",height:m,width:m}),(0,W.jsxs)(y.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,W.jsx)(y.xu,{color:"secondary",height:f,width:f}),(0,W.jsx)(y.xu,{color:"secondary",height:f,width:f})]})]})})}),(0,W.jsx)(y.xu,{ref:b,dangerouslySetInlineStyle:{__style:Y(n/i*_,_,p,b.current,x.current)},position:"absolute",children:(0,W.jsx)(y.Ee,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:n,naturalWidth:i,src:r})})]}),(0,W.jsx)(y.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,W.jsx)(y.X6,{align:"center",size:"600",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var X=n(810008),Q=n(96105),J=n(516114);function ee(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let et=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],en=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),ei=e=>Math.PI/180*e;class er extends h.PureComponent{constructor(...e){super(...e),ee(this,"animationTimer",null),ee(this,"canvasRemovalTimer",null),ee(this,"childrenContainerRef",(0,h.createRef)()),ee(this,"containerRef",(0,h.createRef)()),ee(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let e=window.innerWidth,{height:t,top:n}=this.containerRef.current.getBoundingClientRect(),i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top=`${n-(e-t)/2}px`,i.style.pointerEvents="none",i.style.width=`${e}px`,i.style.height=`${e}px`,i.width=e,i.height=e,i}),ee(this,"explode",()=>{let e=this.buildCanvas();if(!e)return;let t=this.containerRef.current,n=this.childrenContainerRef.current,i=e.getContext("2d");t?.insertBefore(e,n);let r=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(en(10,30)),color:et[Math.floor(Math.random()*et.length)],degree:Number(en(0,360).toFixed(1)),speed:Math.round(en(0,25)),friction:.9,opacity:Number(en(0,.5).toFixed(1)),yVel:0,gravity:.04})),a=(e,t,n,i)=>{window.requestAnimationFrame(()=>a(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach(e=>{e.x+=e.speed*Math.cos(ei(e.degree)),e.y+=e.speed*Math.sin(ei(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&a(r,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t?.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){let{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,W.jsx)(y.xu,{ref:this.containerRef,children:(0,W.jsx)(y.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}function ea(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ee(er,"defaultProps",{delay:0});class eo extends h.PureComponent{constructor(...e){super(...e),ea(this,"state",{startAnimation:!1}),ea(this,"dismissTimer",null),ea(this,"pinRef",(0,h.createRef)()),ea(this,"pinDestinationRef",(0,h.createRef)()),ea(this,"handleAnimationAndCompletion",()=>{let{onComplete:e,savePin:t,selectedBoardName:n}=this.props;if(!n)return;let i=this.startAnimation();Promise.all([i,t(n)]).then(t=>{let[,i]=t;e(i,n)}).catch(e=>{i.then(()=>{e?.onError?.()})})}),ea(this,"startAnimation",()=>new Promise(e=>{this.setState({startAnimation:!0},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){let{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){let{pinDominantColor:e,pinImageUrl:t,selectedBoardName:n}=this.props,{startAnimation:i}=this.state;return(0,W.jsxs)(h.Fragment,{children:[(0,W.jsx)(y.Le,{top:J.R$,zIndex:new y.Ry(3),children:(0,W.jsx)(y.xu,{alignItems:"center",color:i?"transparent":"default",display:"flex",justifyContent:"center",children:(0,W.jsx)(y.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:((e,t,n)=>{let i=[],r=t.current?.getBoundingClientRect(),a=n.current?.getBoundingClientRect();if(r&&a){let e={x:a.left-r.left,y:a.top-r.top},t={x:a.width/r.width,y:a.height/r.height};i.push(`translate(${e.x}px, ${e.y}px)`),i.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}})(i,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,W.jsx)(y.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:e,fit:"cover",naturalHeight:84,naturalWidth:84,src:t})})})}),(0,W.jsx)(y.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!i,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,W.jsxs)(y.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,W.jsx)(er,{delay:1200,startAnimation:i,children:(0,W.jsx)(y.zd,{rounding:2,width:148,children:(0,W.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map((e,t)=>{let n=t<=1,i=t%2,r=0===t?this.pinDestinationRef:null;return(0,W.jsx)(y.xu,{ref:r,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!n,marginEnd:+!i,width:72},t)})})})}),(0,W.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!i,WebkitTransform:i?"translateY(0)":"translateY(20%)",transform:i?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,W.jsx)(y.X6,{children:(0,A.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:n})})})]})})]})}}let es=function(e){let t=(0,T.ZP)();return(0,W.jsx)(eo,{...e,i18n:t})};var el=n(782251),ed=n(209348),ec=n(282919),eu=n(428725),eh=n(145127),ep=n(975740),eg=n(793698),e_=n(588836),em=n(681721),ef=n(87853),ey=n(629315),eb=n(978857),ex=n(744557),ev=n(438556);let eP=(void 0!==i||(i=n(148281)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==i.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function eS({createSectionAndRepin:e,errorMessage:t,i18n:n,pin:i,setErrorMessage:r,useRoundedCorners:a}){let[o,s]=(0,h.useState)("");return(0,W.jsx)(ey.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:o,onNameChange:e=>{r(""),s(e.target.value)},onNextButtonTouch:()=>{e(o,n)},selectedPinIds:[i.entityId],useRoundedCorners:a})}function ew(e){let{boardId:t,isEditingPin:n,onSuccess:i,pinKey:r,pinBoardId:a,pinSectionId:o,trackingParams:s,useRoundedCorners:l}=e,d=(0,k.Z)(eP,r),c=(0,p.I0)(),u=(0,_.k6)(),g=(0,T.ZP)(),{showToast:m}=(0,ef.dI)(),f=(0,b.Z)(),y=(0,ev.n)(),{checkExperiment:v}=(0,E.r)(),P=(0,x.cO)(),[S,I]=(0,h.useState)(""),j=e=>u.push(e);return(0,W.jsx)(eS,{createSectionAndRepin:e=>{let r=e=>I(e.message_detail||e.message);c((0,eb.Z)(t,[],e,f)).then(e=>{m(({hideToast:e})=>(0,W.jsx)(w.Z,{onHide:e,text:g._('Section added!', ' - ', ' -- ')}));let l=e.resource_response.data;c((0,ec.w)({checkExperiment:v,i18n:g,logContextEvent:f,pinId:d.entityId,boardId:t,onSuccess:n?void 0:()=>{P("Save",{pin_id:d.entityId}),i()},showToast:m,section:l,trackingParams:{clientTrackingParams:s,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:""},historyPush:j,savePinId:y?.save??(()=>{})})).then(()=>{d&&a&&c((0,ex.q)({pinId:d.entityId,boardId:a,boardSectionId:o,clientTrackingParams:s})).then(()=>d.pinnedToBoard?u.replace(d.pinnedToBoard.url??""):void 0)}).catch(r)}).catch(r)},errorMessage:S,i18n:g,pin:d,setErrorMessage:I,useRoundedCorners:l})}var eI=n(30216),ek=n(841982),ej=n(575108),eT=n(657043),eA=n(536652),eB=n(72918),eC=n(341742),eR=n(448505),eE=n(7872),ez=n(370347),eZ=n(352908),eF=n(548286),eL=n(189976),eO=n(831786),eM=n(936705),eD=n(696323),eN=n(482633);function eK({pinId:e,handleSelected:t,surfaceOriginViewParameter:n}){let i=(0,T.ZP)(),r=(0,b.Z)();return(0,h.useEffect)(()=>{r({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:n,pin_id:e}})},[]),(0,W.jsx)(y.iP,{onTap:()=>{t(!1,null)},rounding:2,children:(0,W.jsxs)(y.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,W.jsx)(y.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,W.jsx)(y.JO,{accessibilityLabel:i._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,W.jsx)(y.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,W.jsx)(y.xv,{lineClamp:1,size:"400",weight:"bold",children:i._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var eH=n(422578);function e$(){let e=(0,eH.useRelayEnvironment)();return(0,h.useCallback)(t=>{e&&(0,eH.commitLocalUpdate)(e,e=>{e.get(t)?.invalidateRecord()})},[e])}let eW=e=>e.map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score})),eU=e=>"profile"===e?3990:"topChoices"===e?3988:3989,eY=(void 0!==r||(r=n(764227)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==r.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),eq=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function eG({boards:e,boardsShortlist:t=[],closeModal:n,dismissFlyout:i,history:r,isEditingPin:a,isFromToast:o,logContextEvent:s,onSelect:l,originalPinId:d,pinKey:c,pinBoardId:u,saveToProfileEnabled:g,surfaceOriginViewParameter:_,trackingParams:m}){let f=(0,T.ZP)(),b=(0,k.Z)(eY,c),v=e$(),P=(0,p.I0)(),S=(0,eZ.Z)(),j=(0,ev.n)(),A=(0,H.m)(),B=(0,x.cO)(),C=r.location.state&&r.location.state.isOneTapSave,{checkExperiment:R}=(0,E.r)(),{showRepinConfirmation:z,showToast:Z}=(0,el.Z)(),F=e=>r.push(e),L=t.map(e=>e.id);g&&L.unshift("PROFILE_PINS");let O=(0,eR.Z)(),M=(0,I.Z)(),D=(0,eE.lJ)(M,O),{logStat:K}=(0,ez.Yg)(),$=g&&R("mweb_curation_board_picker_reorder_profile_option").anyEnabled;(0,eC.Z)(()=>{L&&s({event_type:13,clientTrackingParams:m.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:b.entityId,suggested_boards:L}})}),(0,h.useEffect)(()=>{s({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:_,pin_id:b.entityId,board_picker_suggested_boards:JSON.stringify(eW(t))}})},[t]);let U=e=>P((0,eF.Br)(e)),Y=S({fn:async(e,t,c)=>{if(e&&t)l(t,c);else try{if(!a){let e=!t?.id,n=await (({boardId:e,i18n:t,isQuickSave:n})=>(i(),K("main_pin_repin"),P((0,ec.w)({checkExperiment:R,i18n:t,isQuickSave:n,logContextEvent:s,pinId:b.entityId,boardId:e,onSuccess:()=>{B("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),r.goBack()},originalPinId:d,showRepinConfirmation:z,trackingParams:m,historyPush:F,suggestedBoardIds:L,savePinId:(e,t)=>(A?.save(e),j?.save(e,t))}))))({boardId:t?.id,i18n:f,isQuickSave:e});if(C&&n){let e,i=n?.id;e={boardId:t?.id,localPinId:i,pinId:b.entityId,nodeId:b.__id},P((0,eM.a)({...e}))}}if(a){let e=t?.id,i={board_id:e,id:b.entityId,...D?{orbac_subject_id:D}:Object.freeze({})},a=u!==e;ej.Z.create("PinResource",i).callUpdate().then(t=>{let n;if(a&&e&&u){let t,n,i;t={selectedPinIds:[b.entityId],source:{boardId:u,sectionId:void 0},target:{boardId:e,sectionId:void 0}},P((0,eO.S)(t)),U({boardId:e,sectionId:void 0,increment:1}),U({boardId:u,sectionId:void 0,increment:-1}),M.isAuth&&M.id&&!u&&(n=M.id,i=b.entityId,P((0,eL.EX)({feedId:n,feedType:eD.Z.BOARDLESS_PINS,itemIds:[i],itemType:"pin"})))}P((0,eA.b)("PinResource",{options:i})),n=b.entityId,P((0,eB.jB)("PinResource",eq(n,!0,D))),v(b.__id),P((0,eB.Sr)("PinResource",eq(t.resource_response.data.id,!1,D),t)),r.goBack()}),o&&n()}}catch(e){Z(({hideToast:t})=>(0,W.jsx)(w.Z,{onHide:t,text:(0,eT.Z)(e,"message")||f._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"}))}},modalHeader:(0,N.Bx)(f)}),q=(0,W.jsx)(eK,{handleSelected:(e,t)=>Y(e,{...t,gridIndex:0},"profile"),pinId:b.entityId,surfaceOriginViewParameter:_});return(0,W.jsxs)(y.kC,{direction:"column",gap:4,children:[(0,W.jsxs)(y.xu,{children:[g&&!$&&q,t.length>0&&(0,W.jsx)(y.xu,{marginBottom:4,marginTop:2,children:(0,W.jsx)(y.X6,{accessibilityLevel:3,size:"300",children:(0,W.jsx)(y.xv,{inline:!0,children:f._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),t.map((e,t)=>(0,W.jsx)(eN.Z,{boardId:e.id,onBoardSelected:n=>Y(n,{...e,gridIndex:t},"topChoices"),showSingleBoardRep:!0},e.id))]}),(0,W.jsxs)(y.xu,{"data-test-id":"all-boards-list",children:[(0,W.jsx)(y.xu,{marginBottom:4,children:(0,W.jsx)(y.X6,{accessibilityLevel:3,size:"300",children:(0,W.jsx)(y.xv,{inline:!0,children:f._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),e.map((e,t)=>(0,W.jsx)(eN.Z,{boardId:e.id,onBoardSelected:n=>Y(n,{...e,gridIndex:t},"allBoards"),showSingleBoardRep:!0},e.id)),$&&q]})]})}var eV=n(366859);let eX=()=>(0,W.jsx)(y.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,W.jsxs)(h.Fragment,{children:[(0,W.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,W.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})});var eQ=n(611251),eJ=n(890774);let e0=(void 0!==a||(a=n(853213)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==a.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function e1({isEditingPin:e,isFirstBoard:t,isFromToast:n,history:i,onFirstBoardCreate:r,originalPinId:a,pinBoardId:o,pinKey:s,pinSectionId:l,surfaceOriginViewParameter:d,titleSuggestions:c,clientTrackingParams:u}){let g=(0,b.Z)(),_=(0,eJ.Z)(),m=(0,T.ZP)(),f=(0,eZ.Z)(),{showRepinConfirmation:x}=(0,el.Z)(),v=(0,p.I0)(),P=(0,k.Z)(e0,s),S=P.entityId,w=(0,eQ.A)({hasRichMetadata:!!P.richMetadata,hasRichMetadataProducts:!!P.richMetadata?.products,hasRichMetadataArticle:!!P.richMetadata?.article,hasRichMetadataRecipe:!!P.richMetadata?.recipe}),I=(0,ev.n)(),j=(0,H.m)(),A=(0,ep.gC)(),B=(0,M.Z)(u,P.trackingParams),C=e=>i.push(e),{checkExperiment:R}=(0,E.r)();(0,h.useEffect)(()=>{g({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}})},[]);let z=async()=>{await void v((0,ex.q)({pinId:S,boardId:o||"",boardSectionId:l,clientTrackingParams:B}));let e=P.pinnedToBoard?.url;if(P.section){let t=`${e??""}${P.section.slug??""}/`;i.replace(t??"")}else i.replace(e??"")},Z=f({fn:(o,s,l)=>{g({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:d,pin_id:S,board_title_suggestions:c}}),(({allSuggestions:e,handleCreateBoard:t,index:n,isFBC:i,logContextEvent:r,pinViewParameter:a})=>{t(),r({aux_data:{board_title_list:JSON.stringify(e),is_fbc:i.toString(),selected_board_title_index:n},component:7,element:23,event_type:102,view_parameter:a,view_type:3})})({allSuggestions:l,handleCreateBoard:()=>{t?r(s):_({boardCreateOptions:{name:s,initial_pin_client_tracking_params:[u],privacy:"public"}}).then(t=>{let{url:r="",id:o}=t||{};v((0,ec.w)({checkExperiment:R,i18n:m,logContextEvent:g,originalPinId:a,pinId:S,boardId:o,trackingParams:{clientTrackingParams:B,pinnedToBoardId:o},historyPush:C,savePinId:(e,t)=>(j?.save(e),I?.save(e,t))})).then(()=>{e?n?i.goBack():z():i.goBack();let{href:t,text:a}=(0,em.Z)(r,s,m),{duration:l,text:d,thumbnail:c}=(0,X.Z)({boardId:o,getReduxBoard:A,pinId:S,viewType:3});x(({hideToast:e})=>(0,W.jsx)(Q.Z,{duration:l,href:t,onHide:e,text:d||a,thumbnail:c}))})})},index:o,isFBC:t,logContextEvent:g,pinViewParameter:w})},modalHeader:(0,N.Bb)(m)});return c?c.map((e,t,n)=>(0,W.jsx)(y.xu,{children:(0,W.jsx)(eV.Z,{dataTestId:"board-suggestion-row-button",onTouch:()=>Z(t,e,n),pressState:"none",rounding:2,children:(0,W.jsxs)(y.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,W.jsx)(eX,{}),(0,W.jsx)(y.xu,{column:10,marginStart:3,children:(0,W.jsx)(y.X6,{size:"400",children:e})})]})},t)},t)):null}let e2=(void 0!==o||(o=n(182522)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==o.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),e3=e=>{let{v3GetPinQuery:t}=(0,g.useLazyLoadQuery)(e2,{pinId:e});if(t?.error?.message)throw t?.error;return t?.data?.boardTitleSuggestions?.map(({title:e})=>e).filter(Boolean)||[]},e8=(void 0!==s||(s=n(205725)).hash&&"475036dcb56a51d3552313200b8c9d45"!==s.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function e5({allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:s,onSelect:l,originalPinId:d,pin:c,pinBoardId:u,pinSectionId:p,trackingParams:g}){let _=(0,b.Z)();return(0,W.jsx)(h.Fragment,{children:(0,W.jsx)(eG,{boards:e,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:s,logContextEvent:_,onSelect:l,originalPinId:d,pinBoardId:u,pinKey:c,pinSectionId:p,saveToProfileEnabled:t,trackingParams:g})})}function e6({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:s,isFromToast:l,onFirstBoardCreate:d,originalPinId:c,onSelect:u,pin:h,pinBoardId:p,pinSectionId:g,trackingParams:_,titleSuggestions:m}){let f=(0,T.ZP)(),x=s||0===e.length&&!i,v=(0,b.Z)(),P=()=>(0,W.jsx)(e1,{clientTrackingParams:_.clientTrackingParams,history:a,isEditingPin:o,isFirstBoard:x,isFromToast:l,onFirstBoardCreate:d,originalPinId:c,pinBoardId:p,pinKey:h,pinSectionId:g,titleSuggestions:m});return x?(0,W.jsxs)(y.xu,{paddingX:1,children:[(0,W.jsx)(y.xu,{marginBottom:4,children:(0,W.jsx)(y.xv,{children:f._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),P()]}):(0,W.jsxs)(y.xu,{marginBottom:4,children:[(0,W.jsx)(eG,{boards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:l,logContextEvent:v,onSelect:u,originalPinId:c,pinBoardId:p,pinKey:h,pinSectionId:g,saveToProfileEnabled:i,trackingParams:_}),m?(0,W.jsxs)(y.xu,{children:[(0,W.jsx)(y.xu,{paddingY:1,children:(0,W.jsx)(ek.Z,{children:(0,W.jsx)(y.iz,{})})}),(0,W.jsx)(y.xu,{paddingY:4,children:(0,W.jsx)(y.xv,{children:f._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),P()]}):(0,W.jsx)(y.xu,{paddingY:6,children:(0,W.jsx)(y.xH,{accessibilityLabel:f._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function e7({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFetchingBoards:s,isFirstRepinExperience:l,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:h,pinKey:p,pinBoardId:g,pinDescription:_,pinSectionId:m,surfaceOriginViewParameter:f,saveSessionId:x}){let v=(0,k.Z)(e8,p),P=e3(v.entityId),S=(0,T.ZP)(),w=(0,b.Z)(),I={clientTrackingParams:(0,eI.Z)({pinKey:v}),pinnedToBoardId:v.pinnedToBoard?v.pinnedToBoard.entityId:""},j=(e,n)=>{w({event_type:101,component:13282,clientTrackingParams:I.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:eU(n),aux_data:{board_id:e.id,board_component:eU(n),board_picker_surface_origin:f,board_picker_suggested_boards:JSON.stringify(eW(t)),board_title_suggestions:P,board_index:e.gridIndex,is_profile_save:"profile"===n,pin_id:v.entityId,save_session_id:x}}),u(e,n)};return e.length>0||!s?e.length>=10?(0,W.jsx)(e5,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:d,onSelect:j,originalPinId:h,pin:v,pinBoardId:g,pinDescription:_,pinSectionId:m,saveToProfileEnabled:i,trackingParams:I}):(0,W.jsx)(e6,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:l,isFromToast:d,onFirstBoardCreate:c,onSelect:j,originalPinId:h,pin:v,pinBoardId:g,pinDescription:_,pinSectionId:m,saveToProfileEnabled:i,titleSuggestions:P,trackingParams:I}):(0,W.jsx)(y.xu,{paddingY:2,children:(0,W.jsx)(y.xH,{accessibilityLabel:S._('Loading repin page content', ' - ', ' -- '),show:!0})})}var e4=n(394962),e9=n(611282);let te=(void 0!==l||(l=n(727382)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==l.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function tt({isEditingPin:e,isFirstBoardCreateActive:t,pinKey:n,pinBoardId:i,pinDescription:r,pinSectionId:a,trackingParams:o,onTouch:s,useIconWithBackground:l}){let d=(0,T.ZP)(),c=(0,k.Z)(te,n),u=(0,e9.Z)({href:{pathname:`/board/create/${c.entityId}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:"",pinDescription:r,trackingParams:o,isEditingPin:e,pinBoardId:i,pinSectionId:a}}});return(0,W.jsx)(e4.Z,{hasTopShadow:l,height:l?void 0:70,children:(0,W.jsx)(y.iP,{onTap:({event:e})=>{s?.(),u({event:e})},children:(0,W.jsxs)(y.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!l,paddingY:+!l,children:[l?(0,W.jsx)(y.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,W.jsx)(y.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,W.jsx)(y.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,W.jsx)(y.xu,{marginStart:l?2:3,children:(0,W.jsx)(y.xv,{weight:"bold",children:d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var tn=n(120651),ti=n(993127);let tr=(void 0!==d||(d=n(428988)).hash&&"f0b2fbadfba92480a2077999a000a308"!==d.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),ta=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function to({boardId:e,history:t,location:{search:n},showSectionRep:i,pinKey:r,onSuccess:a,trackingParams:o,dismissFlyout:s,boardViewParameterType:l,surfaceOriginViewParameter:d}){let c=(0,p.I0)(),u=(0,T.ZP)(),g=(0,k.Z)(tr,r),_=e$(),{showToast:m}=(0,ef.dI)(),f=new URLSearchParams(n),y=f.get("isEditingPin"),v=f.get("pinBoardId")??"",P=f.get("pinSectionId")??"",S=(0,M.Z)(o,g.trackingParams),w=(0,b.Z)(),j=(0,ev.n)(),{checkExperiment:A}=(0,E.r)(),B=e=>t.push(e),C=(0,eR.Z)(),R=(0,I.Z)(),z=(0,eE.lJ)(R,C),Z=(0,x.cO)();(0,h.useEffect)(()=>{w({event_type:13,clientTrackingParams:S,component:13282,object_id_str:e,view_type:275,aux_data:{board_id:e,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:g.entityId,board_component:l}})});let F=e=>c((0,eF.Br)(e)),L=async(n,i)=>{if(i&&w({event_type:101,clientTrackingParams:S,component:13282,element:36,object_id_str:n,view_type:91,view_parameter:3133,aux_data:{board_id:n,board_picker_surface_origin:d,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:g.entityId,section_id:i?.id??"",board_component:l}}),y||await void(s(),c((0,ec.w)({checkExperiment:A,i18n:u,logContextEvent:w,pinId:g.entityId,boardId:e,onSuccess:y?void 0:()=>{Z("Save",{pin_id:g.entityId,is_promoted:g.isPromoted}),a()},showToast:m,section:i,trackingParams:{clientTrackingParams:S,pinnedToBoardId:g.pinnedToBoard?g.pinnedToBoard.entityId:""},historyPush:B,savePinId:j?.save??(()=>{})})).then(()=>{i&&c((0,tn.Z)(i.id??""))})),y){let e=i?.id,r={board_id:n,board_section_id:e,id:g.entityId,...z?{orbac_subject_id:z}:Object.freeze({})},a=v!==n,o=P!==e;ej.Z.create("PinResource",r).callUpdate().then(i=>{let s;if(a||o){let t,i,r;t={selectedPinIds:[g.entityId],source:{boardId:v,sectionId:P||null},target:{boardId:n,sectionId:e}},c((0,eO.S)(t)),F({boardId:n,sectionId:e,increment:1}),F({boardId:v,sectionId:P,increment:-1}),R.isAuth&&R.id&&!v&&(i=R.id,r=g.entityId,c((0,eL.EX)({feedId:i,feedType:eD.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))}c((0,eA.b)("PinResource",{options:r})),s=g.entityId,c((0,eB.jB)("PinResource",ta(s,!0,z))),_(g.__id),c((0,eB.Sr)("PinResource",ta(i.resource_response.data.id,!1,z),i)),t.go(-2)})}};return(0,W.jsx)(ti.Z,{boardId:e,repin:L,showSectionRep:i})}function ts(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tl=(void 0!==c||(c=n(713443)).hash&&"b1432f4e80d112c155f930f7ed3760cd"!==c.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),td=(void 0!==u||(u=n(252031)).hash&&"76093586a269ca0330e25a57bd33f665"!==u.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function tc({children:e}){let t=(0,p.v9)(({session:e})=>72+((0,B.Rq)(e.userAgentPlatform)?B.Vf:0));return(0,W.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}class tu extends h.PureComponent{constructor(...e){super(...e),ts(this,"state",{boardType:"allBoards",dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0,saveSessionId:(0,f.Z)()}),ts(this,"saved",()=>this.setState({saved:!0})),ts(this,"onResize",()=>{this.setState({windowInnerHeight:window.innerHeight})}),ts(this,"handleBackButtonTouch",()=>{let{logContextEvent:e,match:{params:{boardId:t}}}=this.props;e({view_type:21,view_parameter:87,component:7,element:t?34:75,event_type:102})}),ts(this,"handleDismissWarningFlyout",()=>this.setState({dupeWarningDismissed:!0})),ts(this,"handleFirstBoardCreateOnSuccess",(e,t)=>{let{closeupExperience:n,completeExperience:i,getReduxBoard:r,history:a,i18n:o,pinId:s,repinExperience:l,showRepinConfirmation:d,mountAfterActionPlacement:c}=this.props,{boardId:u,boardUrl:h}=e,{href:p,text:g}=(0,em.Z)(h,t,o),{duration:_,text:m,thumbnail:f}=(0,X.Z)({boardId:u,getReduxBoard:r,isFBC:!0,pinId:s,viewType:21});a.goBack(),d(({hideToast:e})=>(0,W.jsx)(Q.Z,{duration:_,href:p,onHide:e,text:m||g,thumbnail:f})),n&&n.placement_id&&503459===n.experience_id&&i(n.placement_id,n.experience_id),l&&D(l,501032)&&i(l.placement_id,l.experience_id),c("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})}),ts(this,"handleSetSelectedBoard",e=>{let{history:t,pin:n,location:i}=this.props,{trackingParams:r}=this.state;this.isFirstBoardCreateActive()||t.push(`/board/create/${n.entityId}/${e}/`,{trackingParams:r,from:i.state?.from}),this.setState({suggestedBoardName:e})}),ts(this,"handleFirstBoardCreate",e=>{let{checkExperiment:t,createBoard:n,dispatch:i,history:r,location:a,logContextEvent:o,i18n:s,match:l,notifDetailRepinContext:d,pin:c,repinContext:u,showToast:h}=this.props,{trackingParams:p}=this.state,g=l.params.id,_=(0,M.Z)((a.state||{}).trackingParams),{search:m}=a,f=new URLSearchParams(m).get("originalPinId")??"",y=(0,M.Z)(p,c.trackingParams);return n({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[_],privacy:"public"},deprecatedSchemaForNormalization:eu.IY}).then(e=>{let{url:n="",id:a}=e||{};return g&&i((0,ec.w)({checkExperiment:t,i18n:s,logContextEvent:o,originalPinId:f,pinId:g,boardId:a,trackingParams:{clientTrackingParams:y,pinnedToBoardId:a},historyPush:e=>r.push(e),savePinId:(e,t)=>(d?.save(e),u?.save(e,t))})),{boardId:a,boardUrl:n}},e=>{throw{onError:()=>{r.goBack(),h(({hideToast:t})=>(0,W.jsx)(w.Z,{onHide:t,text:e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"}))}}})}),ts(this,"handleSelectBoard",(e,t)=>{let{history:n,pin:i,location:r}=this.props,{search:a}=r,{trackingParams:o}=this.state,s=new URLSearchParams(a),l=!!s.get("isEditingPin"),d=s.get("pinBoardId")??"",c=s.get("pinSectionId")??"";this.setState(()=>({boardType:t})),l?n.push(`/pin/${i.entityId}/repin/${e.id}/?isEditingPin=true&pinBoardId=${d}&pinSectionId=${c}`,{trackingParams:o,from:r.state?.from}):n.push({pathname:`/pin/${i.entityId}/repin/${e.id}/`},{trackingParams:o,from:r.state?.from})}),ts(this,"handleClickAddSectionButton",()=>{let{pin:e,history:t,match:{params:{boardId:n}},location:i,logContextEvent:r,boardsShortlist:a,titleSuggestions:o}=this.props;if(!n)return;let{search:s}=i,l=new URLSearchParams(s),d=!!l.get("isEditingPin"),c=l.get("pinBoardId")??"",u=l.get("pinSectionId")??"";r({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:o||[],pin_id:e.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(eW(a))}}),d?t.push(`/pin/${e.entityId}/repin/${n}/add/?isEditingPin=true&pinBoardId=${c}&pinSectionId=${u}`,{from:i.state?.from}):t.push({pathname:`/pin/${e.entityId}/repin/${n}/add/`,state:{from:i.state?.from}})}),ts(this,"handleRepinToExistingSectionSuccess",()=>{this.props.history.go(-2)}),ts(this,"handleRepinToNewSectionSuccess",()=>{this.props.history.go(-3)}),ts(this,"handleRepinCreateBoardButtonTouch",()=>{let{pin:e,logContextEvent:t,boardsShortlist:n,titleSuggestions:i}=this.props;t({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:i||[],pin_id:e.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(eW(n))}})}),ts(this,"renderCreateScreen",()=>{let{pin:e,location:{search:t},match:{params:{boardId:n}}}=this.props,{trackingParams:i}=this.state,r=new URLSearchParams(t),a=!!r.get("isEditingPin"),o=r.get("pinBoardId")??"",s=r.get("pinSectionId")??"";return!!n&&(0,W.jsx)(ew,{boardId:n,isEditingPin:a,onSuccess:this.handleRepinToNewSectionSuccess,pinBoardId:o,pinKey:e,pinSectionId:s,trackingParams:i,useRoundedCorners:!0})}),ts(this,"isFirstBoardCreateActive",()=>{let{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:n,repinExperience:i}=this.props;return!!D(i,501032)||!t&&0===e.length&&!n}),ts(this,"isBoardCreateEduActive",()=>{let{repinExperience:e}=this.props;return D(e,501021)}),ts(this,"completeBoardCreateEduExperience",()=>{let{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)}),ts(this,"renderPicker",()=>{let{allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,history:i,isFetchingBoards:r,location:a,pin:o,match:{params:{boardId:s}},location:{search:l}}=this.props,{pinDescription:d,dupeWarningDismissed:c,saved:u,suggestedBoardName:h,trackingParams:p,warningAnchor:g,boardType:_,saveSessionId:m}=this.state,f=d.trim(),{pinnedToBoard:b}=o,x=b?(0,A.nk)(this.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:b.name}).join(" "):null,{dominantColor:v}=o,P=o.imageSpec_236x,S=P?P.url:"",w=new URLSearchParams(l),I=!!w.get("isEditingPin"),k=w.get("pinBoardId")??"",j=w.get("pinSectionId")??"",T=!!w.get("isFromToast"),B=w.get("originalPinId")??"",E=this.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),z=new y.Ry(2),Z=this.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),F=this.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),M=s?E:0!==e.length||r||t?F:Z;return(0,W.jsxs)(R.default,{hasFixedHeader:!0,children:[(0,W.jsx)(O.Z,{text:M}),(0,W.jsx)(C.default,{useRoundedCorners:!0,zIndex:z,children:(0,W.jsxs)(y.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,W.jsx)(y.xu,{column:2,children:(0,W.jsx)(e_.Z,{alignIconLeft:!0,color:"darkGray",icon:s?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,size:"sm"})}),(0,W.jsx)(y.xu,{column:8,children:(0,W.jsx)(y.xu,{"data-test-id":"repin-page-title",children:(0,W.jsx)(y.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,W.jsx)(y.xv,{inline:!0,weight:"bold",children:M})})})}),(0,W.jsx)(y.xu,{column:2})]})}),o.imageSpec_236x&&(this.isFirstBoardCreateActive()?(0,W.jsx)(es,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:v??"",pinImageUrl:S??"",savePin:this.handleFirstBoardCreate,selectedBoardName:h}):null),(0,W.jsx)(tc,{children:s?(0,W.jsx)(to,{boardId:s,boardViewParameterType:eU(_),dismissFlyout:this.saved,history:i,location:a,onSuccess:this.handleRepinToExistingSectionSuccess,pinKey:o,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:p}):(0,W.jsx)(e7,{allBoards:e,boardsShortlist:n,closeModal:this.handleBackButtonTouch,dismissFlyout:this.saved,history:i,isEditingPin:I,isFetchingBoards:r,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:T,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,originalPinId:B,pinBoardId:k,pinDescription:f,pinKey:o,pinSectionId:j,saveSessionId:m,saveToProfileEnabled:t,surfaceOriginViewParameter:153})}),s?(0,W.jsx)(L.Wx,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):(0,W.jsx)(K.Z,{modalHeader:(0,N.Bb)(this.props.i18n),nextLocation:`/board/create/${o.entityId}/`,children:(0,W.jsx)(tt,{isEditingPin:I,isFirstBoardCreateActive:this.isFirstBoardCreateActive(),onTouch:this.handleRepinCreateBoardButtonTouch,pinBoardId:k,pinDescription:f,pinKey:o,pinSectionId:j,trackingParams:p,useIconWithBackground:!0})}),P&&this.isBoardCreateEduActive()&&(0,W.jsx)(V,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:v??"",pinImageHeight:P.height??1,pinImageUrl:S??"",pinImageWidth:P.width??1}),g&&!u&&o.pinnedToBoard&&!c&&x&&(0,W.jsx)(y.J2,{anchor:g,idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:(0,W.jsx)(y.xu,{padding:3,children:(0,W.jsx)(y.xv,{weight:"bold",children:(0,W.jsx)("span",{children:x})})})})]})})}componentDidMount(){let{logContextEvent:e,repinExperience:t,triggerExperimentsForPlacement:n,viewExperience:i,pin:r}=this.props,{saveSessionId:a}=this.state;e({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:r.entityId,save_session_id:a}}),n(1000153),t&&i(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return(0,W.jsx)(P.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"repinPage",children:(0,W.jsx)(y.xu,{height:this.state.windowInnerHeight-S.i_,paddingX:2,paddingY:0,children:(0,W.jsxs)(_.rs,{children:[(0,W.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,W.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,W.jsx)(m.lt,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}function th(){return(0,W.jsx)(tp,{})}function tp({shouldFetchPinFromGraphQL:e}){let t=(0,_.k6)(),n=(0,_.TH)(),i=(0,_.$B)(),r=i.params.id??"",a=(0,T.ZP)(),o=(0,b.Z)(),s=(0,v.be)(),l=(0,v.Ig)(),d=(0,eJ.Z)(),c=(0,eg.LO)(),u=(0,ep.gC)(),{isAuth:h}=(0,I.Z)(),g=(0,F.HG)(),m=((e,t)=>{let n={field_set_key:"repin"},i=(0,j.Z)({strategy:t?"GRAPHQL":"LEGACY",query:td,variables:{pinId:e},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,Z.Z)({name:"PinResource",options:{...n,id:e}});return t}}),r=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery?.data:null;return(0,k.Z)(tl,r)})(r,e),{isFetching:f,allBoards:y,boardsShortlist:P}=(e=>{let t=(0,p.v9)(e=>e.session.userId),{isFetching:n,data:i}=(0,Z.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:t}}),r=i?.all_boards||[];return{isFetching:n,allBoards:(0,p.v9)(e=>(0,eh.Z)({...e,boards:r})||[]),boardsShortlist:i?.boards_shortlist||[]}})(r),{checkExperiment:S}=(0,E.r)(),w=(0,H.m)(),A=(0,ev.n)(),B=e3(r);(0,z.Z)({name:"UserResource",options:{user_id:c?.id,field_set_key:"quicksave"}});let C=(0,p.I0)(),R=(0,p.v9)(({experiences:e})=>e),L=(0,x.cO)(),{showToast:O,showRepinConfirmation:M}=(0,el.Z)(),{showEnabledSaveBehavior:D}=(0,ed.ZP)(c?.id||"");return!h||g?(0,W.jsx)(_.l_,{to:`/pin/${r}/`}):m?(0,W.jsx)(tu,{allBoards:y,boardsShortlist:P,checkExperiment:S,closeupExperience:R[1000112],completeExperience:(e,t)=>C(s(e,t)),createBoard:d,dispatch:C,getReduxBoard:u,history:t,i18n:a,isFetchingBoards:f,location:n,logContextEvent:o,match:i,mountAfterActionPlacement:L,notifDetailRepinContext:w,pin:m,pinId:r,repinContext:A,repinExperience:R[1000153],saveToProfileEnabled:D,showRepinConfirmation:M,showToast:O,titleSuggestions:B,triggerExperimentsForPlacement:e=>C((0,v.kd)(e)),viewExperience:(e,t)=>C(l(e,t))}):null}},889229:function(e,t,n){function i(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}n.d(t,{HG:()=>r,OQ:()=>a,hd:()=>i});let a=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},978857:function(e,t,n){n.d(t,{Z:()=>c});var i=n(782677),r=n(575108),a=n(72918),o=n(889229),s=n(189976),l=n(388023),d=n(696323);let c=(e,t,n,c)=>u=>{let h={board_id:e,initial_pins:t,name:n},p="BoardSectionResource";return r.Z.create(p,h).callCreate().then(n=>{let r=n.resource_response.data,g=(0,i.Fv)(r,l.Z[p]);return c({event_type:7100,object_id_str:r.id}),u((0,a.XM)(p,h,n,g)),u((0,o.hd)(e,r)),u((0,s.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[r.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),n})}},987782:function(e,t,n){n.d(t,{Z:()=>r});var i=n(575108);let r=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:r,excludePinIds:a}=e,o={board_id:n.boardId,new_board_id:r.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:r.sectionId};return i.Z.create("BulkEditSelectAllResource",o).callUpdate()}},120651:function(e,t,n){n.d(t,{Z:()=>a});var i=n(575108),r=n(889229);let a=e=>t=>i.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>{let i=n.resource_response.data||{id:"",title:""};return t((0,r.OQ)(e,i)),n})},74105:function(e,t,n){n.d(t,{Z:()=>r});var i=n(536652);function r(e,t,n){return(0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}},831786:function(e,t,n){n.d(t,{S:()=>p,Z:()=>g});var i=n(575108),r=n(74105),a=n(225013),o=n(189976),s=n(686231),l=n(696323),d=n(697063);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,o.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,r.Z)(n.boardId,"pin_count")),t((0,r.Z)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,r.Z)(i.boardId,"pin_count")),n.sectionId&&t((0,a.Z)(n.sectionId)),i.sectionId&&t((0,a.Z)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:n,source:i,target:r}=e;t((0,o.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,o.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(e=>{t((0,s.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),h(e,t)}}function g(e,t){return n=>{let{selectedPinIds:r,target:a}=e;return r.forEach(e=>{n((0,s.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),(function(e,t,n){let{inverseSelection:r,selectedPinIds:a,source:s,target:d,orbacSubjectId:h}=e;if(s.boardId===d.boardId&&(s.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:s.boardId,new_board_id:d.boardId,old_section_id:s.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(s)),t(u(d))])).catch(c(n))}{let e=(e,n)=>{t((0,o.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,o.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(s,d);let r=()=>e(d,s);if(d.boardId===s.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}else{let e={section_id:s.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(n)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}}})(e,n,t).then(()=>h(e,n))}}},936705:function(e,t,n){n.d(t,{a:()=>i,k:()=>r});let i=e=>({type:"ONE_TAP_SAVE",payload:e}),r=e=>({type:"ONE_TAP_UNSAVE",payload:e})},282919:function(e,t,n){n.d(t,{w:()=>a});var i=n(370347),r=n(611251);let a=({pinId:e,boardId:t,checkExperiment:a,i18n:o,isQuickSave:s,logContextEvent:l,onSuccess:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:h,showToast:p,section:g,trackingParams:_,isOneTapSave:m,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v})=>async(P,S)=>{let{pins:w,session:I}=S(),k=w[e],{default:j}=await n.e("20019").then(n.bind(n,116856)),T=new j({boardId:t,dispatch:P,i18n:o,isOneTapSave:m,isQuickSave:s,onSuccess:d,originalPinId:c,pinId:k.id,section:g,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>h?h(e):p?p(e):void 0,trackingParams:_,userId:I.userId,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v,pinData:{trackingParams:k.tracking_params,viewParameter:(0,r.A)({hasRichMetadata:!!k.rich_metadata,hasRichMetadataProducts:!!k.rich_metadata?.products,hasRichMetadataArticle:!!k.rich_metadata?.article,hasRichMetadataRecipe:!!k.rich_metadata?.recipe}),pinnedToBoardId:k.pinned_to_board?.id}});return(0,i.ib)({checkExperiment:a,isAuthMweb:I.isAuthenticated&&(I.isMobile||I.isTablet)}),T.processRepin(l)}},145127:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(442279).createSelector)(({users:e,boards:t,session:n})=>{let i=e[n.userId]||null;return Object.keys(t).reduce((e,n)=>{let r=t[n];return!r.archived_by_me_at&&(r.owner?.id===i?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(i?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},588836:function(e,t,n){n.d(t,{Z:()=>f});var i=n(581722),r=n(616550),a=n(20256),o=n(111330),s=n(521009),l=n(346955),d=n(667835),c=n(19585),u=n(506662),h=n(753143),p=n(941404),g=n(572227),_=n(647709),m=n(785893);function f({alignIconLeft:e,bgColor:t,color:n,disableRedirect:f=!1,fallbackUrl:y,icon:b="arrow-back",onTouch:x,padding:v,placement:P,shouldUseFallbackUrl:S,showBackButtonLabel:w=!1,size:I="lg",viewParameter:k,viewType:j,isVisualSearch:T}){let A=(0,c.Z)(),B=(0,r.k6)(),C=(0,r.TH)(),R=(0,_.HG)(),E=(0,i.v9)(e=>e.session.isAuthenticated),z=(0,s.Z)(),Z=(0,g.Z)(),F=(0,d.vs)(),{viewType:L,viewParameter:O}=(0,l.SU)(),[M,D]=j?[j,k]:[L,O],N=()=>{let e=(0,h.M0)().getItem(o.pm);C.key||"/ideas"!==y?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(P)}.is_auth_${String(E)}`),Z({action:"click",item:"back-button"}),M&&z({view_type:M,view_parameter:D,element:34,event_type:102}),x&&x(),f||((!C.key||!C.state||C.state?.referrer==="redirect"||S)&&y?B.push(y):C.pathname.includes("/password/reset/")&&C.search&&C.search.includes("?nativeShouldDismiss=true")?B.push("/login/?dismissWebview=true"):B.goBack())},K=F?d.t4:"white",H=(0,u.am)(C)||T||"white"===n,$=(0,m.jsx)(a.zx,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),color:"light",iconStart:"arrow-back",onClick:N,size:"lg",text:A._('Back', 'back.button.navigation.button', 'Navigation button to take user back to previous page')});return(0,m.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,m.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===b?-1:-2,width:48,children:(0,m.jsx)(a.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:b,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==v?v:2,size:I})}):(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:R||H||t?"":K,width:F&&!H?"fit-content":""}},rounding:"circle",children:w?$:(0,m.jsx)(a.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t||R?t:"transparent",icon:b,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==v?v:2,size:I})})})}},482633:function(e,t,n){n.d(t,{Z:()=>c});var i=n(581722),r=n(20256),a=n(525839),o=n(302148),s=n(352908),l=n(786942),d=n(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:n,showSingleBoardRep:c}){let u=(0,a.ZP)(),h=(0,i.v9)(({boards:e})=>e)[e],p=h.section_count,g=!!p&&p>0,_=(0,s.Z)(),m=h.name??"this board";return(0,d.jsx)(r.iP,{accessibilityLabel:(0,o.Wc)(`${u._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:m}),onTap:_({fn:()=>t(g)}),rounding:2,tapStyle:"compress",children:(0,d.jsx)(l.Z,{boardId:e,noArrowIcon:n,showSingleBoardRep:c})})}},786942:function(e,t,n){n.d(t,{Z:()=>h});var i=n(667294),r=n(581722),a=n(20256),o=n(525839),s=n(302148),l=n(134475),d=n(734263),c=n(222401),u=n(785893);function h({boardId:e,navigateToBoard:t,noArrowIcon:n,showCollaborators:h,showSingleBoardRep:p,shouldShowPinAndSectionCount:g}){let _=(0,o.ZP)(),m=(0,r.v9)(({boards:e})=>e)[e],f=(m.collaborating_users||[]).map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),y="",b=f.slice(0,3).map(e=>e.name);switch(f.length){case 3:y=(0,s.Wc)(`${_._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${b[0]}`,second:`${b[1]}`,last:`${b[2]}`});break;case 2:y=(0,s.Wc)(`${_._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${b[0]}`,second:`${b[1]}`});break;default:y=b.join(", ")}let x=f.length>3?(0,s.Wc)(_.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:y,leftCount:`${f.length-3}`}):(0,s.Wc)(`${_._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:y}),v=new a.Ry(0),P=m.pin_count,S=m.section_count,w=(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(a.xu,{"data-test-id":S?"boardWithSection":"boardWithoutSection",children:(0,u.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!p,rounding:2,children:[(0,u.jsx)(a.xu,{paddingY:2*!p,children:p?(0,u.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(a.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:m.image_cover_url||" "})})}):(0,u.jsx)(a.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,u.jsx)(c.default,{boardKey:{type:"deprecated",data:m},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,u.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:p?2:4,overflow:p?"hidden":"auto",width:"100%",children:[(0,u.jsx)(a.xv,{lineClamp:p?1:void 0,size:"400",weight:"bold",children:m.name}),g&&(0,u.jsxs)(a.kC,{children:[(0,u.jsx)(a.xv,{inline:!0,children:!!P&&(0,s.nk)(_.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', P ?? 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:P})}),!!P&&!!S&&(0,u.jsx)(d.Z,{}),(0,u.jsx)(a.xv,{inline:!0,children:!!S&&(0,s.nk)(_.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', S ?? 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:S})})]})]}),(0,u.jsxs)(a.kC,{alignItems:p?"center":"start",justifyContent:"start",children:["secret"===m.privacy&&(0,u.jsx)(a.xu,{marginStart:p?3:1,children:(0,u.jsx)(a.JO,{accessibilityLabel:_._('secret board icon', ' - ', ' -- '),color:p?"default":"subtle",icon:"lock"})}),m.is_collaborative&&(p||h)&&f.length>0?(0,u.jsx)(a.xu,{zIndex:v,children:(0,u.jsx)(a.HE,{accessibilityLabel:l.U+x,collaborators:f,size:1===f.length?"sm":"xs"})}):m.is_collaborative&&(0,u.jsx)(a.xu,{marginStart:1,children:(0,u.jsx)(a.JO,{accessibilityLabel:_._('group board icon', ' - ', ' -- '),icon:"people"})}),!n&&!!m.section_count&&(0,u.jsx)(a.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!p,children:(0,u.jsx)(a.JO,{accessibilityLabel:_._('board section board picker icon', ' - ', ' -- '),color:p?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&m.url?(0,u.jsx)(a.Tg,{href:m.url,rounding:2,tapStyle:"compress",children:w}):w}},993127:function(e,t,n){n.d(t,{Z:()=>g});var i=n(581722),r=n(616550),a=n(20256),o=n(525839),s=n(374078),l=n(975740),d=n(482633),c=n(302148),u=n(366859),h=n(785893);function p({onSectionSelected:e,sectionId:t,showSectionRep:n}){let r=(0,i.v9)(({boardsections:e})=>e[t]),s=(0,o.ZP)(),l=r&&r.preview_pins?.[0]&&r.preview_pins[0].image_medium_url,d=r?.title??"";return(0,h.jsx)(u.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,h.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!n,rounding:2,children:[n&&(0,h.jsx)(a.xu,{height:48,width:51,children:(0,h.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:l&&(0,h.jsx)(a.Ee,{alt:(0,c.Wc)(s._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:d}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:l})})}),!n&&(0,h.jsx)(a.xu,{column:1,paddingY:2}),(0,h.jsx)(a.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:n?(0,h.jsx)(a.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,h.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:r?.title})}):(0,h.jsx)(a.xu,{marginStart:2,children:(0,h.jsx)(a.xv,{weight:"bold",children:r?.title})})})]})})}function g({boardId:e,originalBoardId:t,sectionId:n,repin:c,hideBoardPickerRow:u,showSectionRep:g}){let _=(0,o.ZP)(),{isFetching:m,boardSections:f,filteredBoardSections:y}=((e,t)=>{let{isFetching:n}=(0,s.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),r=(0,i.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let n={type:"boardsection",id:t.id};e.push(n)}return e},[])),a=(0,i.v9)(n=>r.map(e=>e.id).reduce((i,r)=>{let a=n.boardsections[r??""];return r!==t&&a&&i.push({board:{id:e},id:a.id,title:a.title,type:"boardsection",slug:a.slug}),i},[]));return{isFetching:n,boardSections:r,filteredBoardSections:a}})(e,n),b=(0,r.k6)(),x=(0,l.gC)()(t||"");return(0,h.jsxs)(a.xu,{children:[f.length>0&&(0,h.jsxs)(a.xu,{paddingY:3*!g,children:[g&&(0,h.jsx)(a.xu,{paddingY:2,children:(0,h.jsx)(a.xu,{marginBottom:2,children:(0,h.jsx)(a.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(a.xv,{inline:!0,children:_._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!u&&(0,h.jsx)(d.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>c(e,void 0,_),showSingleBoardRep:g},e),g&&(0,h.jsx)(a.xu,{paddingY:4,children:(0,h.jsx)(a.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(a.xv,{inline:!0,children:_._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),y.map(n=>(0,h.jsx)(p,{onSectionSelected:()=>{c(e,n,_),t&&b.push(x?.url??"")},sectionId:n.id??"",showSectionRep:g},n.id))]}),(0,h.jsx)(a.xH,{accessibilityLabel:_._('Loading board section for repin flow', ' - ', ' -- '),show:m})]})}},681721:function(e,t,n){n.d(t,{Z:()=>r});var i=n(302148);let r=(e,t,n)=>({text:t?(0,i.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e})},783556:function(e,t,n){n.d(t,{k:()=>o,w:()=>a});var i=n(20256),r=n(252564);let a=2e3,o=new i.H3([r.Z])},890774:function(e,t,n){n.d(t,{Z:()=>c});var i=n(581722),r=n(782677),a=n(575108),o=n(877956),s=n(440568),l=n(536652),d=n(72918);function c(){let e=(0,i.I0)(),t=(0,i.v9)(e=>e.resources);return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:i}){let c=await a.Z.create("BoardResource",n).callCreate(),u=c.resource_response.data,h=i?(0,r.Fv)(u,i):void 0;e((0,d.XM)("BoardResource",n,c,h)),e((0,o.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(p).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(g).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},867576:function(e,t,n){n.d(t,{Z:()=>m});var i,r=n(616550),a=n(15667),o=n(647709);n(167912);var s=n(561692),l=n(889144),d=n(415546),c=n(394887),u=n(785893);let h=(void 0!==i||(i=n(645632)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==i.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function p({pinKey:e}){let t=(0,d.Z)(h,e);return t?(0,u.jsx)(c.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,u.jsx)(l.Z,{showRepin:!0}):(0,u.jsx)(s.ZP,{showRepin:!0})}):null}var g=n(128061),_=n(169053);let m=function(){let{id:e}=(0,r.UO)(),t=(0,o.ZP)(),{isAuthenticated:n}=(0,a.B)(),i=(0,_.S6)(),s=e?i(e):null;return n?"desktop"===t?(0,u.jsx)(p,{pinKey:null!=s?{type:"deprecated",data:s}:null}):(0,u.jsx)(g.ZP,{shouldFetchPinFromGraphQL:!0}):(0,u.jsx)(r.l_,{to:`/pin/${e??""}/`})}},555871:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return n(867576).Z}])}},function(e){e.O(0,["10812","11154","16194","16369","22804","25418","33171","39176","39810","45361","45591","47707","53679","60471","66986","69582","72840","75830","7611","78946","80976","82721","8709","88038","89568","90542","92184","96296","99324"],function(){return e(e.s=555871)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-3f271a26611cf067.mjs.map